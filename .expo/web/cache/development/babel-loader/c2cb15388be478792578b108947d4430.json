{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\jit\\\\Desktop\\\\farhasheri\\\\screens\\\\AddRoomScreen\\\\AddRoomScreen.js\";\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport styles from \"./AddRoomScreenStyle\";\nimport Constants from 'expo-constants';\nimport StyledText from \"../../components/StyledTexts/StyledText\";\nimport StyledTextBold from \"../../components/StyledTexts/StyledTextBold\";\nimport HeaderBack from \"../../components/HeadersComponent/HeaderBack\";\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\nimport { FontAwesome, Ionicons } from '@expo/vector-icons';\nimport * as Permissions from 'expo-permissions';\nimport * as ImagePicker from 'expo-image-picker';\nimport * as firebase from 'firebase/app';\n\nvar AddRoomScreen = function (_Component) {\n  _inherits(AddRoomScreen, _Component);\n\n  function AddRoomScreen(props) {\n    var _this;\n\n    _classCallCheck(this, AddRoomScreen);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddRoomScreen).call(this, props));\n\n    _this.selectPicture = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 2:\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                mediaTypes: \"Images\"\n              }).then(function (result) {\n                if (!result.cancelled) {\n                  var photos = _this.state.photos;\n                  var imgPath = result.uri;\n                  photos.push({\n                    path: result.uri\n                  });\n\n                  _this.setState({\n                    photos: photos,\n                    imagesScrollVisibile: true\n                  });\n\n                  var imgName = new Date().getTime();\n\n                  _this.uploadImage(imgPath, imgName);\n                }\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    _this.uploadImage = function _callee2(path, imageName) {\n      var response, blob, ref;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(fetch(path));\n\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(response.blob());\n\n            case 5:\n              blob = _context2.sent;\n              ref = firebase.storage().ref().child(\"rooms/\" + imageName);\n              return _context2.abrupt(\"return\", ref.put(blob).then(function () {\n                ref.getDownloadURL().then(function (url) {\n                  _this.setState({\n                    photoURL: url\n                  });\n                });\n              }));\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    };\n\n    _this.state = {\n      roomName: \"\",\n      roomPrice: \"\",\n      roomPersons: \"\",\n      serviceName: \"\",\n      servicePrice: \"\",\n      photoURL: \"\",\n      errors: {},\n      freeService: false,\n      paidService: true,\n      photos: [],\n      hallId: null,\n      roomNumber: 0\n    };\n    return _this;\n  }\n\n  _createClass(AddRoomScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var id = this.props.navigation.getParam('id');\n      var roomNum = this.props.navigation.getParam('roomNum');\n      console.log('hall id', id);\n      this.setState({\n        hallId: id,\n        roomNumber: roomNum\n      });\n    }\n  }, {\n    key: \"chooseServiceType\",\n    value: function chooseServiceType(t) {\n      if (t == 'f') {\n        this.setState({\n          freeService: true,\n          paidService: false\n        });\n      } else {\n        this.setState({\n          freeService: false,\n          paidService: true\n        });\n      }\n    }\n  }, {\n    key: \"deleteImage\",\n    value: function deleteImage(index) {\n      var array = _toConsumableArray(this.state.photos);\n\n      if (index !== -1) {\n        array.splice(index, 1);\n        this.setState({\n          photos: array\n        });\n\n        if (array.length == 0) {\n          this.setState({\n            imagesScrollVisibile: false\n          });\n        }\n      }\n    }\n  }, {\n    key: \"validation\",\n    value: function validation() {\n      var isValid = true;\n      var _this$state = this.state,\n          roomName = _this$state.roomName,\n          roomPrice = _this$state.roomPrice,\n          roomPersons = _this$state.roomPersons,\n          serviceName = _this$state.serviceName,\n          servicePrice = _this$state.servicePrice,\n          photos = _this$state.photos,\n          errors = _this$state.errors;\n\n      if (!roomName) {\n        isValid = false;\n        errors[\"roomName\"] = \"الرجاء ادخال اسم القاعة\";\n      }\n\n      if (!roomPrice) {\n        isValid = false;\n        errors[\"roomPrice\"] = \"الرجاء ادخال سعر حجز القاعة\";\n      }\n\n      if (!roomPersons) {\n        isValid = false;\n        errors[\"roomPersons\"] = \"الرجاء ادخال عدد الأشخاص المحتملين\";\n      }\n\n      if (!serviceName) {\n        isValid = false;\n        errors[\"serviceName\"] = \"الرجاء ادخال اسم الخدمة\";\n      }\n\n      if (!servicePrice) {\n        isValid = false;\n        errors[\"servicePrice\"] = \"الرجاء ادخال سعر الخدمة\";\n      }\n\n      if (photos.length === 0) {\n        isValid = false;\n        errors[\"photoError\"] = \"الرجاء اختيار صورة للصالة\";\n      }\n\n      this.setState({\n        errors: errors\n      });\n      return isValid;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var errors = this.state.errors;\n      return React.createElement(View, {\n        style: styles.containerStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        }\n      }, React.createElement(View, {\n        style: styles.StatusBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        }\n      }, React.createElement(StatusBar, {\n        barStyle: \"light-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        }\n      })), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        }\n      }, React.createElement(HeaderBack, {\n        navigation: this.props.navigation,\n        title: \"\\u0623\\u0636\\u0641 \\u0642\\u0627\\u0639\\u062A\\u0643\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        }\n      })), React.createElement(View, {\n        style: {\n          width: '100%',\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        }\n      }, React.createElement(ScrollView, {\n        style: {\n          width: '100%'\n        },\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: {\n          flexGrow: 1,\n          justifyContent: 'flex-start',\n          backgroundColor: '#fff',\n          paddingTop: 20\n        },\n        snapToStart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        }\n      }, React.createElement(KeyboardAwareScrollView, {\n        keyboardDismissMode: \"on-drag\",\n        enableOnAndroid: true,\n        style: {\n          width: \"100%\",\n          paddingBottom: 150\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        }\n      }, React.createElement(View, {\n        style: styles.InputContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        }\n      }, React.createElement(View, {\n        style: styles.InputContainer2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        }\n      }, React.createElement(StyledTextBold, {\n        style: styles.InputContainer2Tilte,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        }\n      }, \"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0642\\u0627\\u0639\\u0629 :\"), React.createElement(View, {\n        style: styles.inputCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.photoIcon,\n        onPress: this.selectPicture,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        }\n      }, React.createElement(FontAwesome, {\n        name: \"camera\",\n        color: \"#924480\",\n        size: 20,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        }\n      })), React.createElement(View, {\n        style: styles.photoTilteCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        }\n      }, React.createElement(StyledTextBold, {\n        style: styles.photoTilte,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        }\n      }, \"\\u0627\\u062E\\u062A\\u0631 \\u0635\\u0648\\u0631 \\u0648\\u0642\\u0645 \\u0628\\u0625\\u0631\\u0641\\u0627\\u0642\\u0647\\u0627\")))), this.state.imagesScrollVisibile && React.createElement(ScrollView, {\n        style: {\n          flex: 1,\n          marginVertical: 10,\n          marginBottom: 20\n        },\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        }\n      }, this.state.photos.map(function (item, index) {\n        return React.createElement(View, {\n          key: index,\n          style: {\n            marginHorizontal: 5\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          }\n        }, React.createElement(Image, {\n          source: {\n            uri: item.path\n          },\n          style: {\n            height: 90,\n            width: 90\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          }\n        }), React.createElement(TouchableOpacity, {\n          style: {\n            position: 'absolute',\n            padding: 3,\n            right: 0\n          },\n          onPress: function onPress() {\n            return _this2.deleteImage(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          }\n        }, React.createElement(Ionicons, {\n          name: \"ios-close-circle-outline\",\n          size: 22,\n          color: \"red\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          }\n        })));\n      })), React.createElement(StyledText, {\n        style: {\n          color: '#F00',\n          fontSize: 12,\n          marginBottom: 15,\n          paddingHorizontal: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        }\n      }, errors[\"photoError\"]), React.createElement(View, {\n        style: styles.InputContainer2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        }\n      }, React.createElement(StyledTextBold, {\n        style: styles.InputContainer2Tilte,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        }\n      }, \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0642\\u0627\\u0639\\u0629 : \"), React.createElement(View, {\n        style: styles.inputCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"\\u0627\\u0644\\u0642\\u0627\\u0639\\u0629 \\u0627\\u0644\\u0643\\u0628\\u0631\\u0649\",\n        placeholderTextColor: \"#A2A2A2\",\n        underlineColorAndroid: \"transparent\",\n        returnKeyType: \"next\",\n        keyboardType: \"default\",\n        onSubmitEditing: function onSubmitEditing() {\n          _this2.secondTextInput.focus();\n        },\n        onChangeText: function onChangeText(roomName) {\n          return _this2.setState({\n            roomName: roomName\n          });\n        },\n        blurOnSubmit: false,\n        style: styles.Input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        }\n      }))), React.createElement(StyledText, {\n        style: {\n          color: '#F00',\n          fontSize: 12,\n          marginBottom: 15,\n          paddingHorizontal: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        }\n      }, errors[\"roomName\"]), React.createElement(View, {\n        style: styles.InputContainer2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        }\n      }, React.createElement(StyledTextBold, {\n        style: styles.InputContainer2Tilte,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        }\n      }, \"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0642\\u0627\\u0639\\u0629 ($) : \"), React.createElement(View, {\n        style: styles.inputCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"****\",\n        placeholderTextColor: \"#A2A2A2\",\n        underlineColorAndroid: \"transparent\",\n        returnKeyType: \"next\",\n        keyboardType: \"default\",\n        ref: function ref(input) {\n          _this2.secondTextInput = input;\n        },\n        onSubmitEditing: function onSubmitEditing() {\n          _this2.thirdTextInput.focus();\n        },\n        onChangeText: function onChangeText(roomPrice) {\n          return _this2.setState({\n            roomPrice: roomPrice\n          });\n        },\n        blurOnSubmit: false,\n        style: styles.Input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        }\n      }))), React.createElement(StyledText, {\n        style: {\n          color: '#F00',\n          fontSize: 12,\n          marginBottom: 15,\n          paddingHorizontal: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        }\n      }, errors[\"roomPrice\"]), React.createElement(View, {\n        style: styles.InputContainer2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        }\n      }, React.createElement(StyledTextBold, {\n        style: styles.InputContainer2Tilte,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        }\n      }, \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0623\\u0641\\u0631\\u0627\\u062F \\u0627\\u0644\\u0645\\u062D\\u062A\\u0645\\u0644\\u064A\\u0646 : \"), React.createElement(View, {\n        style: styles.inputCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"****\",\n        placeholderTextColor: \"#A2A2A2\",\n        underlineColorAndroid: \"transparent\",\n        returnKeyType: \"next\",\n        keyboardType: \"phone-pad\",\n        ref: function ref(input) {\n          _this2.thirdTextInput = input;\n        },\n        onSubmitEditing: function onSubmitEditing() {\n          _this2.fourthTextInput.focus();\n        },\n        onChangeText: function onChangeText(roomPersons) {\n          return _this2.setState({\n            roomPersons: roomPersons\n          });\n        },\n        blurOnSubmit: false,\n        style: styles.Input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        }\n      }))), React.createElement(StyledText, {\n        style: {\n          color: '#F00',\n          fontSize: 12,\n          marginBottom: 15,\n          paddingHorizontal: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        }\n      }, errors[\"roomPersons\"]), React.createElement(View, {\n        style: styles.InputContainer2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        }\n      }, React.createElement(StyledTextBold, {\n        style: styles.InputContainer2Tilte,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        }\n      }, \"\\u0627\\u0644\\u062E\\u062F\\u0645\\u0627\\u062A :\"), React.createElement(View, {\n        style: styles.inputCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u062E\\u062F\\u0645\\u0629\",\n        placeholderTextColor: \"#A2A2A2\",\n        underlineColorAndroid: \"transparent\",\n        returnKeyType: \"next\",\n        keyboardType: \"default\",\n        ref: function ref(input) {\n          _this2.fourthTextInput = input;\n        },\n        onSubmitEditing: function onSubmitEditing() {\n          _this2.fifthTextInput.focus();\n        },\n        onChangeText: function onChangeText(serviceName) {\n          return _this2.setState({\n            serviceName: serviceName\n          });\n        },\n        blurOnSubmit: false,\n        style: styles.Input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        }\n      }))), React.createElement(StyledText, {\n        style: {\n          color: '#F00',\n          fontSize: 12,\n          marginBottom: 15,\n          paddingHorizontal: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        }\n      }, errors[\"serviceName\"]), React.createElement(View, {\n        style: [styles.InputContainer2, {\n          paddingRight: 0,\n          paddingLeft: 0\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        }\n      }, React.createElement(View, {\n        style: [styles.inputCont, {\n          backgroundColor: '#fff'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: this.state.freeService ? styles.activeTypeCont : styles.typeCont,\n        onPress: function onPress() {\n          return _this2.chooseServiceType('f');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        }\n      }, React.createElement(StyledText, {\n        style: this.state.freeService ? styles.activetxt : styles.inactivetxt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        }\n      }, \"\\u0645\\u062C\\u0627\\u0646\\u064A\\u0629\")), React.createElement(View, {\n        style: {\n          width: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: this.state.paidService ? styles.activeTypeCont : styles.typeCont,\n        onPress: function onPress() {\n          return _this2.chooseServiceType('p');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        }\n      }, React.createElement(StyledText, {\n        style: this.state.paidService ? styles.activetxt : styles.inactivetxt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        }\n      }, \"\\u0645\\u062F\\u0641\\u0648\\u0639\\u0629\")))), React.createElement(View, {\n        style: styles.InputContainer2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        }\n      }, React.createElement(StyledTextBold, {\n        style: styles.InputContainer2Tilte,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        }\n      }, \"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062E\\u062F\\u0645\\u0629 ($) : \"), React.createElement(View, {\n        style: styles.inputCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"****\",\n        placeholderTextColor: \"#A2A2A2\",\n        underlineColorAndroid: \"transparent\",\n        returnKeyType: \"next\",\n        keyboardType: \"default\",\n        ref: function ref(input) {\n          _this2.fifthTextInput = input;\n        },\n        onSubmitEditing: function onSubmitEditing() {\n          _this2.AddRoom();\n        },\n        onChangeText: function onChangeText(servicePrice) {\n          return _this2.setState({\n            servicePrice: servicePrice\n          });\n        },\n        blurOnSubmit: false,\n        style: styles.Input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        }\n      })))), React.createElement(StyledText, {\n        style: {\n          color: '#F00',\n          fontSize: 12,\n          marginBottom: 15,\n          paddingHorizontal: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        }\n      }, errors[\"servicePrice\"]), React.createElement(View, {\n        style: styles.RegisterButtonCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        }\n      }, React.createElement(TouchableOpacity, {\n        activeOpacity: 0.5,\n        style: styles.LoginTouch,\n        onPress: function onPress() {\n          _this2.AddRoom();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        }\n      }, React.createElement(StyledText, {\n        style: {\n          color: '#fff',\n          fontSize: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        }\n      }, \"\\u0623\\u0636\\u0641 \\u0627\\u0644\\u0642\\u0627\\u0639\\u0629\")))))));\n    }\n  }, {\n    key: \"AddRoom\",\n    value: function AddRoom() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          hallId = _this$state2.hallId,\n          roomNumber = _this$state2.roomNumber;\n      console.log('id', hallId);\n      var roomsData = {\n        roomName: this.state.roomName,\n        roomPrice: this.state.roomPrice,\n        roomPersons: this.state.roomPersons,\n        serviceName: this.state.serviceName,\n        servicePrice: this.state.servicePrice,\n        roomImage: this.state.photoURL,\n        freeService: this.state.freeService,\n        paidService: this.state.paidService,\n        hallId: this.state.hallId\n      };\n\n      if (this.validation()) {\n        var ref = firebase.firestore().collection('rooms').add(roomsData).then(function () {\n          firebase.firestore().collection('halls').doc(hallId).update({\n            roomNum: Number(roomNumber) + 1\n          }).then(function () {\n            return console.log('done');\n          }).catch(function (e) {\n            return console.log(e);\n          });\n        }).catch(function (error) {\n          console.error(\"Error adding document: \", error);\n          alert('Something went wrong');\n        });\n        console.log(hallId);\n      }\n\n      setTimeout(function () {\n        return _this3.props.navigation.navigate('AddRoomDoneScreen');\n      }, 4000);\n    }\n  }]);\n\n  return AddRoomScreen;\n}(Component);\n\nexport { AddRoomScreen as default };","map":{"version":3,"sources":["C:/Users/jit/Desktop/farhasheri/screens/AddRoomScreen/AddRoomScreen.js"],"names":["React","Component","styles","Constants","StyledText","StyledTextBold","HeaderBack","KeyboardAwareScrollView","FontAwesome","Ionicons","Permissions","ImagePicker","firebase","AddRoomScreen","props","selectPicture","askAsync","CAMERA_ROLL","launchImageLibraryAsync","mediaTypes","then","result","cancelled","photos","state","imgPath","uri","push","path","setState","imagesScrollVisibile","imgName","Date","getTime","uploadImage","imageName","fetch","response","blob","ref","storage","child","put","getDownloadURL","url","photoURL","roomName","roomPrice","roomPersons","serviceName","servicePrice","errors","freeService","paidService","hallId","roomNumber","id","navigation","getParam","roomNum","console","log","t","index","array","splice","length","isValid","containerStyle","StatusBar","width","marginTop","flexGrow","justifyContent","backgroundColor","paddingTop","paddingBottom","InputContainer","InputContainer2","InputContainer2Tilte","inputCont","photoIcon","photoTilteCont","photoTilte","flex","marginVertical","marginBottom","map","item","marginHorizontal","height","position","padding","right","deleteImage","color","fontSize","paddingHorizontal","secondTextInput","focus","Input","input","thirdTextInput","fourthTextInput","fifthTextInput","paddingRight","paddingLeft","activeTypeCont","typeCont","chooseServiceType","activetxt","inactivetxt","AddRoom","RegisterButtonCont","LoginTouch","roomsData","roomImage","validation","firestore","collection","add","doc","update","Number","catch","e","error","alert","setTimeout","navigate"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { View, ScrollView, StatusBar,Image,TextInput,TouchableOpacity} from \"react-native\";\r\nimport styles from \"./AddRoomScreenStyle\";\r\nimport Constants from 'expo-constants'\r\nimport StyledText from '../../components/StyledTexts/StyledText'\r\nimport StyledTextBold from '../../components/StyledTexts/StyledTextBold'\r\nimport HeaderBack from '../../components/HeadersComponent/HeaderBack'\r\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\r\nimport {FontAwesome,Ionicons} from '@expo/vector-icons'\r\nimport * as Permissions from 'expo-permissions';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport * as firebase from 'firebase/app'\r\n\r\nexport default class AddRoomScreen extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            roomName:\"\",\r\n            roomPrice:\"\",\r\n            roomPersons:\"\",\r\n            serviceName:\"\",\r\n            servicePrice:\"\",\r\n            photoURL:\"\",\r\n            // step2:true,\r\n            errors:{},\r\n            freeService:false,\r\n            paidService:true,\r\n            photos:[],\r\n            hallId:null,\r\n            roomNumber:0\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = this.props.navigation.getParam('id');\r\n        const roomNum = this.props.navigation.getParam('roomNum');\r\n        console.log('hall id' , id);\r\n        this.setState({hallId:id,\r\n        roomNumber:roomNum});\r\n    }\r\n\r\n    chooseServiceType(t){\r\n        if(t == 'f'){\r\n            this.setState({freeService:true,paidService:false})\r\n        }else{\r\n            this.setState({freeService:false,paidService:true})\r\n        }\r\n    }\r\n    \r\n    selectPicture = async () => {\r\n        await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n        await ImagePicker.launchImageLibraryAsync({\r\n            mediaTypes: \"Images\"\r\n        }).then((result) => {\r\n            if (!result.cancelled) {\r\n                const {photos} = this.state;\r\n                const imgPath = result.uri;\r\n                photos.push({path: result.uri})\r\n                this.setState({photos, imagesScrollVisibile: true})\r\n                var imgName = new Date().getTime();                \r\n                this.uploadImage(imgPath,imgName);\r\n            }\r\n        })\r\n    }\r\n\r\n    uploadImage = async (path, imageName) => {\r\n        const response = await fetch(path);\r\n        const blob = await response.blob();\r\n    \r\n        const ref = firebase.storage().ref().child(\"rooms/\" + imageName);\r\n        return ref.put(blob).then(() => { //After store the image -> get the url of it \r\n                ref.getDownloadURL()\r\n                .then(url=>{\r\n                    this.setState({photoURL:url});\r\n                })\r\n        })\r\n    }\r\n\r\n    deleteImage(index){\r\n        var array = [...this.state.photos]     // make a separate copy of the array\r\n        if (index !== -1) {\r\n            array.splice(index, 1)\r\n            this.setState({photos: array})\r\n            if(array.length == 0){\r\n                this.setState({imagesScrollVisibile: false})\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    validation() {\r\n        let isValid = true;\r\n        const {roomName,roomPrice,roomPersons,serviceName,servicePrice,photos,errors} = this.state;\r\n        if (!roomName) {\r\n            isValid = false;\r\n            errors[\"roomName\"] = \"الرجاء ادخال اسم القاعة\"\r\n        }\r\n\r\n        if (!roomPrice) {\r\n            isValid = false;\r\n            errors[\"roomPrice\"] = \"الرجاء ادخال سعر حجز القاعة\"\r\n        }\r\n\r\n        if (!roomPersons) {\r\n            isValid = false;\r\n            errors[\"roomPersons\"] = \"الرجاء ادخال عدد الأشخاص المحتملين\"\r\n        }\r\n\r\n        if (!serviceName) {\r\n            isValid = false;\r\n            errors[\"serviceName\"] = \"الرجاء ادخال اسم الخدمة\"\r\n        }\r\n\r\n        if (!servicePrice) {\r\n            isValid = false;\r\n            errors[\"servicePrice\"] = \"الرجاء ادخال سعر الخدمة\"\r\n        }\r\n\r\n\r\n        if (photos.length === 0) {\r\n            isValid = false;\r\n            errors[\"photoError\"] = \"الرجاء اختيار صورة للصالة\"\r\n        }\r\n\r\n        this.setState({errors});\r\n        return isValid;\r\n\r\n    }\r\n\r\n    render() {\r\n        const {errors} = this.state;\r\n        return (\r\n        <View style={styles.containerStyle}>          \r\n            <View style={styles.StatusBar}>\r\n                <StatusBar barStyle=\"light-content\"/>\r\n            </View>\r\n            <View>\r\n                <HeaderBack navigation={this.props.navigation} title='أضف قاعتك'></HeaderBack>\r\n            </View>\r\n            <View style={{ width: '100%',marginTop: 10}}>\r\n                <ScrollView\r\n                    style={{ width: '100%' }}\r\n                    showsVerticalScrollIndicator={false}\r\n                    contentContainerStyle={{flexGrow:1,justifyContent:'flex-start',backgroundColor:'#fff',paddingTop:20}}\r\n                    snapToStart={true}\r\n                >   \r\n                <KeyboardAwareScrollView\r\n                    keyboardDismissMode=\"on-drag\" //work only on ios\r\n                    enableOnAndroid={true}\r\n                    style={{ width: \"100%\",paddingBottom:150}}\r\n                >\r\n                {/* <View style={styles.imageCont}>\r\n                    <TouchableOpacity style={styles.CircleCont}>\r\n                        <View style={styles.inAciveCircleCont2}>\r\n                            <StyledText style={styles.txt}>3</StyledText>\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                    <View style={styles.spaceCont}></View>\r\n                    <TouchableOpacity style={styles.CircleCont}>\r\n                        <View style={styles.inAciveCircleCont}>\r\n                            <StyledText style={styles.txt}>2</StyledText>\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                    <View style={styles.spaceCont}></View>\r\n                    <TouchableOpacity style={styles.CircleCont}>\r\n                        <View style={styles.aciveCircleCont}>\r\n                            <StyledText style={styles.txt}>1</StyledText>\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                </View> */}\r\n\r\n                    <View style={styles.InputContainer}>\r\n\r\n                        <View style={styles.InputContainer2}>\r\n                            <StyledTextBold style={styles.InputContainer2Tilte}>تفاصيل القاعة :</StyledTextBold>\r\n                            <View style={styles.inputCont}>\r\n                                <TouchableOpacity style={styles.photoIcon} onPress={this.selectPicture}>\r\n                                    <FontAwesome name='camera' color='#924480' size={20}/>\r\n                                </TouchableOpacity>\r\n                                <View style={styles.photoTilteCont}>\r\n                                    <StyledTextBold style={styles.photoTilte}>اختر صور وقم بإرفاقها</StyledTextBold>\r\n                                </View>     \r\n                            </View>\r\n                        </View>\r\n\r\n                        {this.state.imagesScrollVisibile && (\r\n                        <ScrollView\r\n                            style={{flex:1, marginVertical: 10,marginBottom:20}} \r\n                            horizontal={true} showsHorizontalScrollIndicator={false}\r\n                        >\r\n                            {this.state.photos.map((item, index)=>(\r\n                                <View key={index} style={{marginHorizontal:5}}> \r\n                                    <Image source={{uri: item.path}} style={{height:90, width:90}} />\r\n                                    <TouchableOpacity style={{position: 'absolute', padding:3, right: 0}} onPress={()=>this.deleteImage(index)}>\r\n                                        <Ionicons name='ios-close-circle-outline' size={22} color='red'/>\r\n                                    </TouchableOpacity>\r\n                                </View>\r\n                            ))}  \r\n                        </ScrollView>\r\n                        )}\r\n\r\n                        <StyledText style={{color:'#F00',fontSize:12,marginBottom:15,paddingHorizontal:10}}>\r\n                            {errors[\"photoError\"]}\r\n                        </StyledText>\r\n                        \r\n                        <View style={styles.InputContainer2}>\r\n                            <StyledTextBold style={styles.InputContainer2Tilte}>اسم القاعة : </StyledTextBold>\r\n                            <View style={styles.inputCont}>\r\n                            <TextInput\r\n                                placeholder=\"القاعة الكبرى\"\r\n                                placeholderTextColor=\"#A2A2A2\"\r\n                                underlineColorAndroid=\"transparent\"\r\n                                returnKeyType={\"next\"}\r\n                                keyboardType=\"default\"\r\n                                onSubmitEditing={() => {this.secondTextInput.focus()}}\r\n                                onChangeText={(roomName) => this.setState({ roomName })}\r\n                                blurOnSubmit={false}\r\n                                style={styles.Input}\r\n                            />\r\n                            </View>\r\n                        </View>\r\n\r\n                        \r\n                        <StyledText style={{color:'#F00',fontSize:12,marginBottom:15,paddingHorizontal:10}}>\r\n                            {errors[\"roomName\"]}\r\n                        </StyledText>\r\n                        \r\n\r\n                        <View style={styles.InputContainer2}>\r\n                            <StyledTextBold style={styles.InputContainer2Tilte}>سعر القاعة ($) : </StyledTextBold>\r\n                            <View style={styles.inputCont}>\r\n                            <TextInput\r\n                                placeholder=\"****\"\r\n                                placeholderTextColor=\"#A2A2A2\"\r\n                                underlineColorAndroid=\"transparent\"\r\n                                returnKeyType={\"next\"}\r\n                                keyboardType=\"default\"\r\n                                ref={(input) => {this.secondTextInput = input}}\r\n                                onSubmitEditing={() => {this.thirdTextInput.focus()}}\r\n                                onChangeText={(roomPrice) => this.setState({ roomPrice })}\r\n                                blurOnSubmit={false}\r\n                                style={styles.Input}\r\n                            />\r\n                            </View>\r\n                        </View>\r\n\r\n                        \r\n                        <StyledText style={{color:'#F00',fontSize:12,marginBottom:15,paddingHorizontal:10}}>\r\n                            {errors[\"roomPrice\"]}\r\n                        </StyledText>\r\n                        \r\n\r\n                        <View style={styles.InputContainer2}>\r\n                            <StyledTextBold style={styles.InputContainer2Tilte}>عدد الأفراد المحتملين : </StyledTextBold>\r\n                            <View style={styles.inputCont}>\r\n                            <TextInput\r\n                                placeholder=\"****\"\r\n                                placeholderTextColor=\"#A2A2A2\"\r\n                                underlineColorAndroid=\"transparent\"\r\n                                returnKeyType={\"next\"}\r\n                                keyboardType=\"phone-pad\"\r\n                                ref={(input) => {this.thirdTextInput = input}}\r\n                                onSubmitEditing={() => {this.fourthTextInput.focus()}}\r\n                                onChangeText={(roomPersons) => this.setState({ roomPersons })}\r\n                                blurOnSubmit={false}\r\n                                style={styles.Input}\r\n                            />\r\n                            </View>\r\n                        </View>\r\n\r\n\r\n                        <StyledText style={{color:'#F00',fontSize:12,marginBottom:15,paddingHorizontal:10}}>\r\n                            {errors[\"roomPersons\"]}\r\n                        </StyledText>\r\n                        \r\n\r\n                        <View style={styles.InputContainer2}>\r\n                            <StyledTextBold style={styles.InputContainer2Tilte}>الخدمات :</StyledTextBold>\r\n                            <View style={styles.inputCont}>\r\n                            <TextInput\r\n                                placeholder=\"اسم الخدمة\"\r\n                                placeholderTextColor=\"#A2A2A2\"\r\n                                underlineColorAndroid=\"transparent\"\r\n                                returnKeyType={\"next\"}\r\n                                keyboardType=\"default\"\r\n                                ref={(input) => {this.fourthTextInput = input}}\r\n                                onSubmitEditing={() => {this.fifthTextInput.focus()}}\r\n                                onChangeText={(serviceName) => this.setState({ serviceName })}\r\n                                blurOnSubmit={false}\r\n                                style={styles.Input}\r\n                            />\r\n                            </View>\r\n                        </View>\r\n\r\n                        \r\n                        <StyledText style={{color:'#F00',fontSize:12,marginBottom:15,paddingHorizontal:10}}>\r\n                            {errors[\"serviceName\"]}\r\n                        </StyledText>\r\n                        \r\n\r\n                        <View style={[styles.InputContainer2,{paddingRight:0,paddingLeft:0}]}>\r\n                            <View style={[styles.inputCont,{backgroundColor:'#fff'}]}>\r\n                                <TouchableOpacity style={this.state.freeService?styles.activeTypeCont:styles.typeCont}\r\n                                    onPress={()=>this.chooseServiceType('f')}\r\n                                >\r\n                                    <StyledText style={this.state.freeService?styles.activetxt:styles.inactivetxt}>\r\n                                        مجانية\r\n                                    </StyledText>\r\n                                </TouchableOpacity>\r\n                                <View style={{width:20}}></View>\r\n                                <TouchableOpacity style={this.state.paidService?styles.activeTypeCont:styles.typeCont}\r\n                                    onPress={()=>this.chooseServiceType('p')}\r\n                                >\r\n                                    <StyledText style={this.state.paidService?styles.activetxt:styles.inactivetxt}>\r\n                                        مدفوعة\r\n                                    </StyledText>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </View>\r\n\r\n                        \r\n\r\n                        <View style={styles.InputContainer2}>\r\n                            <StyledTextBold style={styles.InputContainer2Tilte}>سعر الخدمة ($) : </StyledTextBold>\r\n                            <View style={styles.inputCont}>\r\n                            <TextInput\r\n                                placeholder=\"****\"\r\n                                placeholderTextColor=\"#A2A2A2\"\r\n                                underlineColorAndroid=\"transparent\"\r\n                                returnKeyType={\"next\"}\r\n                                keyboardType=\"default\"\r\n                                ref={(input) => {this.fifthTextInput = input}}\r\n                                onSubmitEditing={() => {this.AddRoom()}}\r\n                                onChangeText={(servicePrice) => this.setState({ servicePrice })}\r\n                                blurOnSubmit={false}\r\n                                style={styles.Input}\r\n                            />\r\n                            </View>\r\n                        </View>\r\n                    </View>\r\n\r\n                    <StyledText style={{color:'#F00',fontSize:12,marginBottom:15,paddingHorizontal:10}}>\r\n                            {errors[\"servicePrice\"]}\r\n                    </StyledText>\r\n\r\n                    {/* <View style={[styles.RegisterButtonCont,{marginTop:70}]}> */}\r\n                    <View style={styles.RegisterButtonCont}>\r\n                        <TouchableOpacity activeOpacity={0.5} style={styles.LoginTouch}\r\n                          onPress={() => {this.AddRoom()}}\r\n                        >\r\n                          <StyledText style={{color:'#fff',fontSize:15}}>أضف القاعة</StyledText>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n\r\n                </KeyboardAwareScrollView> \r\n                </ScrollView>\r\n            </View>\r\n        </View>\r\n        );\r\n    }\r\n    \r\n    AddRoom(){\r\n        const {hallId,roomNumber} = this.state;\r\n        console.log('id' ,hallId)\r\n        const roomsData = { \r\n            roomName:this.state.roomName,\r\n            roomPrice:this.state.roomPrice,\r\n            roomPersons:this.state.roomPersons,\r\n            serviceName:this.state.serviceName,\r\n            servicePrice:this.state.servicePrice,\r\n            roomImage:this.state.photoURL,\r\n            freeService:this.state.freeService,\r\n            paidService:this.state.paidService,\r\n            hallId: this.state.hallId\r\n        }\r\n        if(this.validation()){\r\n            const ref = firebase.firestore().collection('rooms').add(roomsData)\r\n            .then(()=>{\r\n               firebase.firestore().collection('halls').doc(hallId).update({\r\n                    roomNum: Number(roomNumber) + 1,\r\n                })\r\n                .then(()=>console.log('done'))\r\n                .catch(e=>console.log(e))\r\n            })\r\n            .catch(function(error) {\r\n                console.error(\"Error adding document: \", error);\r\n                alert('Something went wrong');\r\n            });\r\n            \r\n            console.log(hallId);\r\n\r\n        }\r\n\r\n        \r\n        setTimeout(() => this.props.navigation.navigate('AddRoomDoneScreen') , 4000);\r\n        \r\n        \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}