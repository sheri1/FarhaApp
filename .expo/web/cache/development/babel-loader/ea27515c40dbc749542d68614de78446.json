{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\jit\\\\Desktop\\\\farhasheri\\\\screens\\\\HallDetailScreen\\\\HallDetailScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport styles from \"./HallDetailScreenStyle\";\nimport StyledText from \"../../components/StyledTexts/StyledText\";\nimport HeaderBack from \"../../components/HeadersComponent/HeaderBack\";\nimport ViewPager from '@react-native-community/viewpager';\nimport StyledTextBold from \"../../components/StyledTexts/StyledTextBold\";\nimport { Entypo, FontAwesome, AntDesign } from '@expo/vector-icons';\nimport { Calendar } from 'react-native-calendars';\nimport { Rating } from 'react-native-elements';\nimport { withFirebaseHOC } from \"../../config/Firebase\";\nimport * as firebase from 'firebase';\nimport { AppLoading } from \"expo\";\n\nvar HallDetailScreen = function (_Component) {\n  _inherits(HallDetailScreen, _Component);\n\n  function HallDetailScreen(props) {\n    var _this;\n\n    _classCallCheck(this, HallDetailScreen);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HallDetailScreen).call(this, props));\n\n    _this.selectItem = function (id) {\n      var _this$state = _this.state,\n          roomDetails = _this$state.roomDetails,\n          ordersTap = _this$state.ordersTap;\n      var listDataCopy = JSON.parse(JSON.stringify(ordersTap));\n      listDataCopy.forEach(function (elem) {\n        elem.isSelect = false;\n\n        if (elem.id === id) {\n          elem.isSelect = true;\n        }\n      });\n      var filter = id;\n      var filter2 = id - 1;\n\n      if (filter2 < 0) {\n        filter2 = 0;\n      }\n\n      _this.setState({\n        ordersTap: listDataCopy,\n        showFilter: filter,\n        showTabs: filter2\n      });\n    };\n\n    _this.state = {\n      Sliderimages: [],\n      hallDetail: {},\n      roomDetails: [],\n      roomNum: 1,\n      ordersTap: [{\n        id: 0,\n        name: 'معلومات التواصل',\n        isSelect: false\n      }],\n      managerDetails: {\n        name: 'اسم المالك',\n        phone: '059000000',\n        email: 'manager@gmail.com'\n      },\n      showFilter: 1,\n      showTabs: 0,\n      modalVisible: false,\n      selectedDate: '',\n      user: {},\n      hallId: null,\n      ownerId: null,\n      isLoading: true,\n      category: \"\",\n      earnest: '',\n      markedDates: {\n        '2020-07-16': {\n          selected: true,\n          marked: true,\n          disableTouchEvent: true,\n          selectedColor: '#d92027'\n        }\n      },\n      isAnonymousUser: false\n    };\n    return _this;\n  }\n\n  _createClass(HallDetailScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var currentUser = this.props.firebase.auth.currentUser;\n\n      if (currentUser.isAnonymous) {\n        this.setState({\n          isAnonymousUser: true\n        });\n      }\n\n      if (currentUser != null) {\n        this.props.firebase.getUserDocument(currentUser.uid).then(function (userData) {\n          _this2.setState({\n            user: userData\n          });\n        }).catch(function (error) {\n          return console.log('e', error);\n        });\n      }\n\n      var id = this.props.navigation.getParam('id');\n      this.setState({\n        hallId: id\n      });\n      var hallDoc = firebase.firestore().collection('halls').doc(id).get().then(function (doc) {\n        if (doc.exists) {\n          var docData = doc.data();\n\n          _this2.setState({\n            roomNum: docData.roomNum,\n            ownerId: docData.owner,\n            earnest: docData.earnest\n          });\n\n          var hallData = {\n            name: docData.name,\n            location: docData.address,\n            description: docData.description\n          };\n\n          _this2.setState(function (prevState) {\n            return {\n              hallDetail: _objectSpread({}, prevState.hallDetail, {}, hallData)\n            };\n          });\n\n          var roomTabs = Array.from({\n            length: _this2.state.roomNum\n          }, function (v, i) {\n            return i;\n          });\n          var tabs = roomTabs.map(function (item) {\n            var number = item + 1;\n            return {\n              id: number,\n              name: \"القاعة رقم \" + number,\n              isSelect: number === 1 ? true : false\n            };\n          });\n\n          _this2.setState(function (prevState) {\n            return {\n              ordersTap: [].concat(_toConsumableArray(prevState.ordersTap), _toConsumableArray(tabs))\n            };\n          });\n        } else {\n          console.log(\"No such document!\");\n        }\n      }).catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n      var roomsRef = firebase.firestore().collection(\"rooms\");\n      var query = roomsRef.where(\"hallId\", \"==\", id).get().then(function (querySnapshot) {\n        if (querySnapshot.size === 1) {\n          _this2.setState({\n            showTabs: 0\n          });\n        }\n\n        var roomListDetails = [];\n        querySnapshot.forEach(function (doc) {\n          var roomData = doc.data();\n          roomListDetails.push({\n            name: roomData.roomName,\n            numOfPeople: roomData.roomPersons,\n            price: roomData.roomPrice\n          });\n\n          _this2.setState({\n            category: roomData.roomName\n          });\n        });\n\n        var joined = _this2.state.roomDetails.concat(roomListDetails);\n\n        _this2.setState({\n          roomDetails: joined,\n          isLoading: false\n        });\n      }).catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n      setTimeout(function () {\n        _this2.props.firebase.getUserDocument(_this2.state.ownerId).then(function (userData) {\n          var managerInfo = {\n            name: userData.displayName,\n            phone: userData.businessPhone,\n            email: userData.businessEmail\n          };\n\n          _this2.setState(function (prevState) {\n            return {\n              managerDetails: _objectSpread({}, prevState.managerDetails, {}, managerInfo)\n            };\n          });\n        }).catch(function (error) {\n          return console.log('e', error);\n        });\n      }, 5000);\n      firebase.firestore().collection('registration').where('hallId', '==', id).get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          var rigesteredDate = doc.data();\n          var dateObj = {};\n          dateObj[rigesteredDate.registerDate] = {\n            selected: true,\n            marked: true,\n            disableTouchEvent: true,\n            selectedColor: '#d92027'\n          };\n\n          _this2.setState(function (prevState) {\n            return {\n              markedDates: _objectSpread({}, prevState.markedDates, {}, dateObj)\n            };\n          });\n        });\n      }).catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n      firebase.firestore().collection(\"hallImages\").where('hallId', \"==\", id).get().then(function (querySnapshot) {\n        var hallListData = [];\n        querySnapshot.forEach(function (doc) {\n          var data = doc.data();\n          hallListData.push({\n            image: data.hallImage,\n            caption: data.caption\n          });\n          hallListData.push({\n            image: data.roomImage,\n            caption: data.caption\n          });\n        });\n\n        _this2.setState(function (prevState) {\n          return {\n            Sliderimages: [].concat(_toConsumableArray(prevState.Sliderimages), hallListData)\n          };\n        });\n\n        _this2.setState({\n          isLoading: false\n        });\n      }).catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          user = _this$state2.user,\n          roomDetails = _this$state2.roomDetails,\n          managerDetails = _this$state2.managerDetails,\n          hallId = _this$state2.hallId,\n          isLoading = _this$state2.isLoading,\n          showFilter = _this$state2.showFilter,\n          ownerId = _this$state2.ownerId,\n          category = _this$state2.category,\n          ordersTap = _this$state2.ordersTap,\n          showTabs = _this$state2.showTabs,\n          Sliderimages = _this$state2.Sliderimages;\n\n      if (isLoading) {\n        return React.createElement(View, {\n          style: {\n            flex: 1,\n            justifyContent: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          }\n        }, React.createElement(ActivityIndicator, {\n          size: \"large\",\n          color: \"#924480\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          }\n        }));\n      } else {\n        return React.createElement(View, {\n          style: styles.containerStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          }\n        }, React.createElement(View, {\n          style: {\n            position: 'absolute',\n            width: '100%',\n            top: 0,\n            zIndex: 1000\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          }\n        }, React.createElement(HeaderBack, {\n          navigation: this.props.navigation,\n          title: \"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0635\\u0627\\u0644\\u0629\",\n          from: \"profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          }\n        })), React.createElement(ScrollView, {\n          style: {\n            width: '100%'\n          },\n          showsVerticalScrollIndicator: false,\n          contentContainerStyle: {\n            flexGrow: 1,\n            justifyContent: 'flex-start',\n            backgroundColor: '#fff'\n          },\n          snapToStart: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          }\n        }, React.createElement(View, {\n          style: {\n            width: '100%',\n            height: '100%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          }\n        }, React.createElement(View, {\n          style: styles.viewPager,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          }\n        }, React.createElement(ViewPager, {\n          style: styles.viewPager,\n          initialPage: 0,\n          ref: this.viewPager,\n          onPageSelected: function onPageSelected(_onPageSelected) {\n            return _this3.setState({\n              activeIndex: _onPageSelected.nativeEvent.position\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          }\n        }, this.state.Sliderimages.map(function (item, index) {\n          return React.createElement(ImageBackground, {\n            style: styles.imageStyle,\n            source: {\n              uri: item.image\n            },\n            key: item.id,\n            imageStyle: styles.imageStyle,\n            resizeMode: \"cover\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 243\n            }\n          }, index === 0 ? React.createElement(Text, {\n            style: {\n              color: \"#fff\",\n              position: \"absolute\",\n              top: \"80%\",\n              right: 10\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 248\n            }\n          }, item.caption) : React.createElement(Text, {\n            style: {\n              color: \"#fff\",\n              position: \"absolute\",\n              top: \"80%\",\n              right: 10\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 249\n            }\n          }, roomDetails[0].name));\n        })), React.createElement(View, {\n          style: styles.dotCont,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          }\n        }, this.state.Sliderimages.map(function (item, index) {\n          return React.createElement(View, {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 257\n            }\n          }, index != _this3.state.activeIndex ? _this3.dot() : _this3.activeDot());\n        }))), React.createElement(View, {\n          style: styles.whiteView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          }\n        }, React.createElement(View, {\n          style: styles.shareFavCont,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          }\n        }, React.createElement(TouchableOpacity, {\n          style: styles.shareButton,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          }\n        }, React.createElement(Entypo, {\n          name: \"share\",\n          size: 24,\n          color: \"black\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          }\n        })), React.createElement(TouchableOpacity, {\n          style: styles.favButton,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          }\n        }, React.createElement(AntDesign, {\n          name: \"heart\",\n          size: 24,\n          color: \"black\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272\n          }\n        }))), React.createElement(StyledText, {\n          style: styles.nameTXT,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          }\n        }, this.state.hallDetail.name), React.createElement(View, {\n          style: styles.locationTXTView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          }\n        }, React.createElement(StyledText, {\n          style: styles.locationTXT,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          }\n        }, this.state.hallDetail.location), React.createElement(Entypo, {\n          name: \"location-pin\",\n          size: 24,\n          color: \"#924480\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          }\n        })), React.createElement(StyledText, {\n          style: styles.descTXT,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          }\n        }, this.state.hallDetail.description), React.createElement(ScrollView, {\n          horizontal: true,\n          showsHorizontalScrollIndicator: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          }\n        }, React.createElement(View, {\n          style: {\n            height: 50,\n            justifyContent: 'center',\n            alignItems: 'center',\n            flexDirection: 'row',\n            width: '100%',\n            marginTop: 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          }\n        }, this.state.ordersTap.map(function (item, index) {\n          return React.createElement(View, {\n            key: index,\n            style: {\n              marginHorizontal: 5\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 294\n            }\n          }, React.createElement(TouchableOpacity, {\n            style: item.isSelect ? styles.activeItem : styles.inActiveItem,\n            onPress: function onPress() {\n              return _this3.selectItem(item.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 295\n            }\n          }, React.createElement(StyledText, {\n            style: item.isSelect ? styles.activeTXT : styles.inActiveTXT,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 298\n            }\n          }, item.name)));\n        }))), showFilter === 0 ? React.createElement(View, {\n          style: styles.ContactView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309\n          }\n        }, React.createElement(View, {\n          style: (styles.infoRowCont, {\n            flexDirection: 'row'\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310\n          }\n        }, React.createElement(View, {\n          style: {\n            flex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          }\n        }, React.createElement(StyledText, {\n          style: styles.infoName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312\n          }\n        }, managerDetails.name)), React.createElement(StyledText, {\n          style: styles.infoName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314\n          }\n        }, \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0627\\u0644\\u0643\")), React.createElement(View, {\n          style: styles.infoRowCont,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          }\n        }, React.createElement(View, {\n          style: styles.infoRow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          }\n        }, React.createElement(StyledText, {\n          style: styles.info,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          }\n        }, managerDetails.phone), React.createElement(Entypo, {\n          name: \"phone\",\n          size: 24,\n          color: \"#924480\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319\n          }\n        })), React.createElement(View, {\n          style: styles.infoRow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 321\n          }\n        }, React.createElement(StyledText, {\n          style: styles.info,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          }\n        }, managerDetails.email), React.createElement(FontAwesome, {\n          name: \"envelope\",\n          size: 24,\n          color: \"#924480\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323\n          }\n        })))) : React.createElement(View, {\n          style: styles.ContactView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          }\n        }, React.createElement(View, {\n          style: styles.firstRow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330\n          }\n        }, React.createElement(View, {\n          style: styles.firstRowPrice,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331\n          }\n        }, React.createElement(StyledText, {\n          style: styles.firstPrice,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          }\n        }, roomDetails[showTabs].price)), React.createElement(View, {\n          style: styles.firstRowName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          }\n        }, React.createElement(StyledText, {\n          style: styles.firstName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          }\n        }, roomDetails[showTabs].name))), React.createElement(View, {\n          style: styles.capView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339\n          }\n        }, React.createElement(StyledText, {\n          style: styles.capTXT,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340\n          }\n        }, \"\\u062A\\u062A\\u0633\\u0639 \\u0644\\u0623\\u0641\\u0631\\u0627\\u062F \\u062D\\u062A\\u0649 \", roomDetails[showTabs].numOfPeople, \" \\u0634\\u062E\\u0635 \")), React.createElement(View, {\n          style: styles.serviceView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 343\n          }\n        }, React.createElement(View, {\n          style: styles.serviceRow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344\n          }\n        }, React.createElement(StyledText, {\n          style: styles.serviceTitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345\n          }\n        }, \"\\u0627\\u0644\\u062E\\u062F\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u062C\\u0627\\u0646\\u064A\\u0629\")), React.createElement(View, {\n          style: styles.serviceRow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347\n          }\n        }, React.createElement(StyledText, {\n          style: styles.serviceInfo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348\n          }\n        }, \"\\u0642\\u0627\\u0639\\u0629 \\u0645\\u0643\\u064A\\u0641\\u0629 \\u0628\\u0627\\u0644\\u0643\\u0627\\u0645\\u0644 - \\u0627\\u0636\\u0627\\u0621\\u0629 \\u0623\\u0646\\u0648\\u0627\\u0631 \\u0645\\u062E\\u062A\\u0644\\u0641\\u0629 -\\u0639\\u0631\\u0636 \\u0632\\u0641\\u0629 \\u062F\\u062E\\u0648\\u0644 \\u0627\\u0644\\u0639\\u0631\\u0648\\u0633\\u064A\\u0646 - \\u0634\\u0627\\u0634\\u0627\\u062A \\u0639\\u0631\\u0636  - \\u0648\\u0631\\u062F \\u0644\\u0644\\u062A\\u0632\\u064A\\u0646\"))), React.createElement(View, {\n          style: styles.serviceView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354\n          }\n        }, React.createElement(View, {\n          style: styles.serviceRow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355\n          }\n        }, React.createElement(StyledText, {\n          style: styles.serviceTitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356\n          }\n        }, \"\\u0627\\u0644\\u062E\\u062F\\u0645\\u0627\\u062A ( \\u0645\\u062F\\u0641\\u0648\\u0639\\u0629 \\u062A\\u0628\\u062F\\u0623 \\u0645\\u0646 30 \\u062F\\u0648\\u0644\\u0627\\u0631 )\")), React.createElement(View, {\n          style: styles.serviceRow,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360\n          }\n        }, React.createElement(StyledText, {\n          style: styles.serviceInfo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361\n          }\n        }, \"\\u0643\\u0648\\u0634\\u0647 \\u0645\\u0636\\u064A\\u0626\\u0629 - \\u0644\\u064A\\u0632\\u0631 - \\u0641\\u064A\\u062F\\u064A\\u0648 - \\u062F\\u064A \\u062C\\u064A \\u0637\\u0648\\u0627\\u0644 \\u0627\\u0644\\u062D\\u0641\\u0644 - \\u0645\\u0627\\u0643\\u064A\\u0646\\u0629 \\u062F\\u062E\\u0627\\u0646 - \\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0648\\u0631\\u062A\\u0647 - \\u0628\\u0648\\u0641\\u064A\\u0647 \\u0644\\u0644\\u0645\\u0634\\u0631\\u0648\\u0628\\u0627\\u062A - \\u0648\\u0631\\u062F \\u0623\\u062B\\u0646\\u0627\\u0621 \\u0627\\u0644\\u0631\\u0642\\u0635\"))), React.createElement(View, {\n          style: styles.rateCont,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          }\n        }, React.createElement(View, {\n          style: styles.rateView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          }\n        }, React.createElement(Rating, {\n          imageSize: 35,\n          type: \"star\",\n          readonly: true,\n          startingValue: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          }\n        })), React.createElement(StyledText, {\n          style: styles.rateTitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 374\n          }\n        }, \"\\u062A\\u0642\\u064A\\u064A\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\\u064A\\u0646\")))), React.createElement(Modal, {\n          animationType: \"slide\",\n          transparent: true,\n          visible: this.state.modalVisible,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 384\n          }\n        }, React.createElement(ScrollView, {\n          style: {\n            width: '100%'\n          },\n          showsVerticalScrollIndicator: false,\n          contentContainerStyle: {\n            flexGrow: 1,\n            justifyContent: 'flex-start'\n          },\n          snapToStart: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 389\n          }\n        }, React.createElement(View, {\n          style: styles.centeredView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 395\n          }\n        }, React.createElement(View, {\n          style: styles.modalView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 396\n          }\n        }, React.createElement(View, {\n          style: styles.firstView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this3.setState({\n              modalVisible: false\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399\n          }\n        }, React.createElement(AntDesign, {\n          name: \"close\",\n          color: \"#fff\",\n          size: 20,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 400\n          }\n        })), React.createElement(View, {\n          style: {\n            flex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 402\n          }\n        })), React.createElement(Calendar, {\n          current: new Date(),\n          minDate: new Date(),\n          onDayPress: function onDayPress(day) {\n            return _this3.setState({\n              selectedDate: day.dateString\n            });\n          },\n          monthFormat: 'yyyy MM',\n          hideArrows: false,\n          hideExtraDays: false,\n          disableMonthChange: true,\n          firstDay: 1,\n          hideDayNames: false,\n          showWeekNumbers: true,\n          disableArrowLeft: false,\n          disableArrowRight: false,\n          disableAllTouchEventsForDisabledDays: true,\n          markedDates: this.state.markedDates,\n          style: {\n            backgroundColor: '#924480'\n          },\n          theme: {\n            textSectionTitleColor: '#fff',\n            selectedDotColor: '#ffffff',\n            arrowColor: '#f4f6ff',\n            monthTextColor: 'white'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405\n          }\n        }), React.createElement(View, {\n          style: styles.done,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 459\n          }\n        }, React.createElement(View, {\n          style: styles.dateCont,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 460\n          }\n        }, React.createElement(StyledText, {\n          style: styles.doneTxt,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 461\n          }\n        }, \"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u062D\\u062C\\u0632\"), React.createElement(View, {\n          style: styles.dateCont2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 462\n          }\n        }, React.createElement(StyledText, {\n          style: styles.doneTxt,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 463\n          }\n        }, this.state.selectedDate)))), React.createElement(View, {\n          style: styles.InputContainer2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 470\n          }\n        }, React.createElement(View, {\n          style: styles.pickerStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 473\n          }\n        }, React.createElement(Picker, {\n          mode: \"dropdown\",\n          selectedValue: this.state.category,\n          style: styles.Input,\n          onValueChange: function onValueChange(category, itemIndex) {\n            return _this3.setState({\n              category: category\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 474\n          }\n        }, this.state.roomDetails.map(function (item, index) {\n          return React.createElement(Picker.Item, {\n            key: item.index,\n            label: item.name,\n            value: item.name,\n            style: {\n              textAlign: 'right'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 483\n            }\n          });\n        })))), React.createElement(View, {\n          style: styles.done,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 492\n          }\n        }, React.createElement(TouchableOpacity, {\n          style: styles.doneTouch,\n          onPress: function onPress() {\n            return _this3.register();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 493\n          }\n        }, React.createElement(StyledText, {\n          style: styles.doneTxt,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 494\n          }\n        }, \"\\u062D\\u062C\\u0632 \\u0627\\u0644\\u0635\\u0627\\u0644\\u0629\"))))))))), user.manager && user.uid === ownerId ? React.createElement(View, {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 506\n          }\n        }, React.createElement(TouchableOpacity, {\n          style: styles.minView2,\n          onPress: function onPress() {\n            return _this3.props.navigation.navigate('AddRoomScreen', {\n              id: hallId,\n              roomNum: _this3.state.roomNum\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 507\n          }\n        }, React.createElement(StyledText, {\n          style: styles.minTXT2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 508\n          }\n        }, \"\\u0623\\u0636\\u0641 \\u0642\\u0627\\u0639\\u0629 \\u062C\\u062F\\u064A\\u062F\\u0629\")), React.createElement(TouchableOpacity, {\n          style: styles.minView2,\n          onPress: function onPress() {\n            return _this3.setState({\n              modalVisible: true\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 512\n          }\n        }, React.createElement(StyledText, {\n          style: styles.minTXT2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 513\n          }\n        }, \"\\u0623\\u0636\\u0641 \\u0627\\u0644\\u062A\\u0648\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0645\\u062D\\u062C\\u0648\\u0632\\u0629 \\u0645\\u0633\\u0628\\u0642\\u0627\"))) : React.createElement(TouchableOpacity, {\n          style: styles.minView,\n          onPress: function onPress() {\n            return _this3.setState({\n              modalVisible: true\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 519\n          }\n        }, React.createElement(StyledText, {\n          style: styles.minTXT,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 520\n          }\n        }, \"\\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A\")));\n      }\n    }\n  }, {\n    key: \"dot\",\n    value: function dot() {\n      return React.createElement(View, {\n        style: {\n          backgroundColor: '#DC96CC',\n          width: 8,\n          height: 8,\n          borderRadius: 8 / 2,\n          marginLeft: 3,\n          marginRight: 3,\n          marginTop: 3,\n          marginBottom: 3,\n          backgroundColor: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555\n        }\n      });\n    }\n  }, {\n    key: \"activeDot\",\n    value: function activeDot() {\n      return React.createElement(View, {\n        style: {\n          backgroundColor: '#924480',\n          width: 8,\n          height: 8,\n          borderRadius: 8 / 2,\n          marginLeft: 3,\n          marginRight: 3,\n          marginTop: 3,\n          marginBottom: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561\n        }\n      });\n    }\n  }, {\n    key: \"register\",\n    value: function register() {\n      var _this4 = this;\n\n      this.setState({\n        modalVisible: false\n      });\n      var _this$state3 = this.state,\n          roomDetails = _this$state3.roomDetails,\n          category = _this$state3.category,\n          isAnonymousUser = _this$state3.isAnonymousUser;\n      console.log('cat', category);\n\n      if (isAnonymousUser) {\n        this.props.navigation.navigate('LoginScreen');\n      } else {\n        var roomPrice = roomDetails.filter(function (item) {\n          return item.name === category && item;\n        });\n        console.log(roomPrice);\n        var fullOrderDate = new Date();\n        var year = fullOrderDate.getFullYear();\n        var month = fullOrderDate.getMonth() + 1;\n        var date = fullOrderDate.getDate();\n        var orderDate = year + '-' + month + '-' + date;\n        firebase.firestore().collection('registration').add({\n          orderStatus: false,\n          orderDate: orderDate,\n          registerDate: this.state.selectedDate,\n          roomName: this.state.category,\n          managerId: this.state.ownerId,\n          hallId: this.state.hallId,\n          hallName: this.state.hallDetail.name,\n          uid: this.state.user.uid,\n          userName: this.state.user.displayName,\n          userPhone: this.state.user.phone,\n          roomPrice: roomPrice[0].price\n        }).then(function () {\n          var dateObj = _defineProperty({}, _this4.state.registerDate, {\n            selected: true,\n            marked: true,\n            disableTouchEvent: true,\n            selectedColor: '#d92027'\n          });\n\n          _this4.setState(function (prevState) {\n            return {\n              markedDates: _objectSpread({}, prevState.markedDates, {}, dateObj)\n            };\n          });\n        });\n        var hallInfo = {\n          earnest: this.state.earnest,\n          isManager: this.state.user.manager\n        };\n        this.props.navigation.navigate('BookingDoneScreen', {\n          info: hallInfo\n        });\n      }\n    }\n  }]);\n\n  return HallDetailScreen;\n}(Component);\n\nexport default withFirebaseHOC(HallDetailScreen);","map":{"version":3,"sources":["C:/Users/jit/Desktop/farhasheri/screens/HallDetailScreen/HallDetailScreen.js"],"names":["React","Component","styles","StyledText","HeaderBack","ViewPager","StyledTextBold","Entypo","FontAwesome","AntDesign","Calendar","Rating","withFirebaseHOC","firebase","AppLoading","HallDetailScreen","props","selectItem","id","state","roomDetails","ordersTap","listDataCopy","JSON","parse","stringify","forEach","elem","isSelect","filter","filter2","setState","showFilter","showTabs","Sliderimages","hallDetail","roomNum","name","managerDetails","phone","email","modalVisible","selectedDate","user","hallId","ownerId","isLoading","category","earnest","markedDates","selected","marked","disableTouchEvent","selectedColor","isAnonymousUser","currentUser","auth","isAnonymous","getUserDocument","uid","then","userData","catch","error","console","log","navigation","getParam","hallDoc","firestore","collection","doc","get","exists","docData","data","owner","hallData","location","address","description","prevState","roomTabs","Array","from","length","v","i","tabs","map","item","number","roomsRef","query","where","querySnapshot","size","roomListDetails","roomData","push","roomName","numOfPeople","roomPersons","price","roomPrice","joined","concat","setTimeout","managerInfo","displayName","businessPhone","businessEmail","rigesteredDate","dateObj","registerDate","hallListData","image","hallImage","caption","roomImage","flex","justifyContent","containerStyle","position","width","top","zIndex","flexGrow","backgroundColor","height","viewPager","onPageSelected","activeIndex","nativeEvent","index","imageStyle","uri","color","right","dotCont","dot","activeDot","whiteView","shareFavCont","shareButton","favButton","nameTXT","locationTXTView","locationTXT","descTXT","alignItems","flexDirection","marginTop","marginHorizontal","activeItem","inActiveItem","activeTXT","inActiveTXT","ContactView","infoRowCont","infoName","infoRow","info","firstRow","firstRowPrice","firstPrice","firstRowName","firstName","capView","capTXT","serviceView","serviceRow","serviceTitle","serviceInfo","rateCont","rateView","rateTitle","centeredView","modalView","firstView","Date","day","dateString","textSectionTitleColor","selectedDotColor","arrowColor","monthTextColor","done","dateCont","doneTxt","dateCont2","InputContainer2","pickerStyle","Input","itemIndex","textAlign","doneTouch","register","manager","display","minView2","navigate","minTXT2","minView","minTXT","borderRadius","marginLeft","marginRight","marginBottom","fullOrderDate","year","getFullYear","month","getMonth","date","getDate","orderDate","add","orderStatus","managerId","hallName","userName","userPhone","hallInfo","isManager"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { View, ScrollView, StatusBar,Modal,TouchableOpacity,ImageBackground, Picker,ActivityIndicator,Text} from \"react-native\";\r\nimport styles from \"./HallDetailScreenStyle\";\r\nimport StyledText from '../../components/StyledTexts/StyledText'\r\nimport HeaderBack from '../../components/HeadersComponent/HeaderBack'\r\nimport ViewPager from '@react-native-community/viewpager';\r\nimport StyledTextBold from '../../components/StyledTexts/StyledTextBold'\r\nimport { Entypo, FontAwesome, AntDesign } from '@expo/vector-icons'; \r\nimport {Calendar} from 'react-native-calendars';\r\nimport { Rating } from 'react-native-elements';\r\nimport { withFirebaseHOC } from '../../config/Firebase'\r\nimport * as firebase from 'firebase';\r\nimport { AppLoading } from \"expo\";\r\nclass HallDetailScreen extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Sliderimages:[],\r\n            hallDetail:{},\r\n            roomDetails: [],\r\n            roomNum:1,\r\n            ordersTap:[\r\n                {id:0,name:'معلومات التواصل',isSelect:false},],\r\n            managerDetails: {\r\n                name: 'اسم المالك',\r\n                phone: '059000000',\r\n                email: 'manager@gmail.com'\r\n            },\r\n            showFilter: 1,\r\n            showTabs:0,\r\n            modalVisible:false,\r\n            selectedDate:'',\r\n            user: {},\r\n            hallId:null,\r\n            ownerId: null,\r\n            isLoading:true,\r\n            category: \"\",\r\n            earnest:'',\r\n            markedDates: {   '2020-07-16': \r\n            {selected: true, marked: true, disableTouchEvent: true, selectedColor: '#d92027'}\r\n        },\r\n        isAnonymousUser: false\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        const currentUser = this.props.firebase.auth.currentUser;\r\n        if(currentUser.isAnonymous) {this.setState({isAnonymousUser:true})}\r\n        if(currentUser != null) {\r\n            this.props.firebase.getUserDocument(currentUser.uid)\r\n                .then(userData=> {\r\n                    this.setState({user:userData});\r\n                })\r\n                .catch(error=>console.log('e',error))\r\n        }\r\n\r\n        const id = this.props.navigation.getParam('id');\r\n        this.setState({hallId:id});\r\n\r\n      \r\n        const hallDoc =  firebase\r\n            .firestore()\r\n            .collection('halls')\r\n            .doc(id)\r\n            .get()\r\n            .then(doc => {\r\n                if (doc.exists) {\r\n                    const docData = doc.data();\r\n                    this.setState({\r\n                        roomNum: docData.roomNum,\r\n                        ownerId: docData.owner,\r\n                        earnest:docData.earnest\r\n                    }\r\n                    );\r\n                    const hallData = {\r\n                        name: docData.name,\r\n                        location: docData.address,\r\n                        description: docData.description,\r\n        \r\n                    }\r\n\r\n                    this.setState(prevState => ({\r\n                        hallDetail: {...prevState.hallDetail,...hallData}\r\n                      }))\r\n\r\n                      \r\n            const roomTabs = Array.from({length: this.state.roomNum}, (v, i) => i);\r\n                    \r\n                    \r\n            const tabs = roomTabs.map((item)=> {\r\n                const number = item + 1;\r\n                return{\r\n                    // {id:0,name:'معلومات التواصل',isSelect:false},\r\n                    id : number ,\r\n                    name: \"القاعة رقم \" + number,\r\n                    isSelect: number === 1 ? true : false\r\n                }\r\n            });\r\n\r\n            this.setState(prevState => ({\r\n                ordersTap: [...prevState.ordersTap, ...tabs]\r\n            }))\r\n                  \r\n                } else {\r\n            \r\n                    console.log(\"No such document!\");\r\n                }\r\n            }).catch(function(error) {\r\n                console.log(\"Error getting document:\", error);\r\n            });\r\n\r\n        const roomsRef = firebase.firestore().collection(\"rooms\");\r\n        const query = roomsRef.where(\"hallId\", \"==\",id)\r\n              .get().then((querySnapshot)  => {\r\n                 if (querySnapshot.size === 1) {this.setState({showTabs:0})}\r\n                  \r\n                let roomListDetails = [];\r\n                  querySnapshot.forEach((doc) => {\r\n                    const roomData = doc.data();\r\n                    roomListDetails.push( \r\n                      {\r\n                        // image: roomData.hallImage,\r\n                        name: roomData.roomName,\r\n                        numOfPeople: roomData.roomPersons,\r\n                        price: roomData.roomPrice,\r\n                      \r\n                        }\r\n                    )\r\n\r\n                    this.setState({category:roomData.roomName})\r\n\r\n                });\r\n                var joined = this.state.roomDetails.concat(roomListDetails)\r\n                this.setState({roomDetails:joined,\r\n                    isLoading:false\r\n                });\r\n\r\n                \r\n            })\r\n              .catch(function(error) {\r\n                console.log(\"Error getting documents: \", error);\r\n            });\r\n\r\n            \r\n          \r\n           \r\n\r\n           setTimeout(()=> {\r\n            this.props.firebase.getUserDocument(this.state.ownerId)\r\n            .then(userData=> {\r\n           \r\n                const managerInfo = {\r\n                    name : userData.displayName,\r\n                    phone : userData.businessPhone,\r\n                    email : userData.businessEmail\r\n                }\r\n                this.setState(prevState => ({\r\n                    managerDetails: {...prevState.managerDetails,...managerInfo}\r\n                  }))\r\n            })\r\n            .catch(error=>console.log('e',error))\r\n           },5000)\r\n            \r\n           firebase.firestore().collection('registration')\r\n           .where('hallId' , '==' , id)\r\n           .get()\r\n           .then((querySnapshot)  => {\r\n            querySnapshot.forEach((doc) => {\r\n              const rigesteredDate = doc.data();\r\n              let dateObj = {};\r\n              dateObj[rigesteredDate.registerDate] = {selected: true, marked: true, disableTouchEvent: true, selectedColor: '#d92027'}\r\n           \r\n              this.setState(prevState => ({\r\n                markedDates: {...prevState.markedDates,...dateObj}\r\n              }))\r\n                \r\n              \r\n          });\r\n        })\r\n        .catch(function(error) {\r\n          console.log(\"Error getting documents: \", error);\r\n      });\r\n\r\n\r\n      firebase.firestore().collection(\"hallImages\").where('hallId', \"==\" , id).get()\r\n        .then((querySnapshot)  => {\r\n            let hallListData = [];\r\n            querySnapshot.forEach((doc) => {\r\n            const data = doc.data();\r\n            hallListData.push(\r\n                { image: data.hallImage,caption:data.caption}\r\n            )\r\n\r\n            hallListData.push(\r\n                { image: data.roomImage,caption:data.caption}\r\n            )\r\n                \r\n        });\r\n\r\n        this.setState(prevState => ({\r\n            Sliderimages: [...prevState.Sliderimages, ...hallListData]\r\n        }))\r\n\r\n        this.setState({isLoading:false});\r\n        \r\n        })\r\n        .catch(function(error) {\r\n        console.log(\"Error getting documents: \", error);\r\n        });\r\n        }\r\n\r\n\r\n    render() {\r\n        const {user,roomDetails,managerDetails,hallId,isLoading,showFilter,ownerId,category,ordersTap,showTabs,Sliderimages} = this.state;\r\n  \r\n        if (isLoading) {\r\n            return (\r\n                <View style={{flex: 1, justifyContent: \"center\"}}>\r\n                     <ActivityIndicator size=\"large\" color=\"#924480\" />\r\n                </View>\r\n            );\r\n          } else {\r\n        return (\r\n        <View style={styles.containerStyle}>        \r\n\r\n            <View style={{position:'absolute',width:'100%',top:0,zIndex:1000}}>\r\n                <HeaderBack navigation={this.props.navigation} title='تفاصيل الصالة' from='profile'></HeaderBack>\r\n            </View>\r\n            <ScrollView\r\n                style={{ width: '100%' }}\r\n                showsVerticalScrollIndicator={false}\r\n                contentContainerStyle={{flexGrow:1,justifyContent:'flex-start',backgroundColor:'#fff'}}\r\n                snapToStart={true}\r\n            >     \r\n                <View style={{width: '100%',height:'100%'}}>\r\n\r\n                    <View style={styles.viewPager}>\r\n                        <ViewPager style={styles.viewPager} initialPage={0} ref={this.viewPager}\r\n                            onPageSelected={(onPageSelected) => this.setState({activeIndex:onPageSelected.nativeEvent.position})}\r\n                        >\r\n                            {this.state.Sliderimages.map((item, index) => {\r\n                                return (\r\n                                    <ImageBackground\r\n                                        style={styles.imageStyle} source={{uri:item.image}}\r\n                                        key={item.id} imageStyle={styles.imageStyle} resizeMode='cover'\r\n                                    >\r\n                                       {index === 0 ? \r\n                                        <Text style={{color:\"#fff\",position:\"absolute\",top:\"80%\",right:10}}>{item.caption}</Text>\r\n                                        : <Text style={{color:\"#fff\",position:\"absolute\",top:\"80%\",right:10}}>{roomDetails[0].name}</Text>}\r\n                                    </ImageBackground>\r\n                                )\r\n                            })}  \r\n                        </ViewPager>\r\n                        <View style={styles.dotCont}>\r\n                            {this.state.Sliderimages.map((item, index) => {\r\n                                return (\r\n                                    <View key={index}>\r\n                                        {index != this.state.activeIndex ? this.dot() : this.activeDot() }\r\n                                    </View>\r\n                                )\r\n                            })}\r\n                        </View>\r\n                    </View>\r\n\r\n                    <View style={styles.whiteView}>\r\n                        <View style={styles.shareFavCont}>\r\n                            <TouchableOpacity style={styles.shareButton}>\r\n                                <Entypo name=\"share\" size={24} color=\"black\" />\r\n                            </TouchableOpacity>\r\n\r\n                            <TouchableOpacity style={styles.favButton}>\r\n                                <AntDesign name=\"heart\" size={24} color=\"black\" />\r\n                            </TouchableOpacity>\r\n                        </View>\r\n\r\n                        <StyledText style={styles.nameTXT}>\r\n                            {this.state.hallDetail.name}\r\n                        </StyledText>\r\n\r\n                        <View style={styles.locationTXTView}>\r\n                            <StyledText style={styles.locationTXT}>\r\n                                {this.state.hallDetail.location}\r\n                            </StyledText>\r\n                            <Entypo name=\"location-pin\" size={24} color=\"#924480\" />\r\n                        </View>\r\n\r\n                        <StyledText style={styles.descTXT}>\r\n                            {this.state.hallDetail.description}\r\n                        </StyledText>\r\n\r\n                        <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                            <View style={{height:50,justifyContent:'center',alignItems:'center',flexDirection:'row',width:'100%',marginTop:10}}>  \r\n                                {this.state.ordersTap.map((item, index)=>(\r\n                                    <View key={index} style={{marginHorizontal:5}}> \r\n                                        <TouchableOpacity style={item.isSelect ? styles.activeItem : styles.inActiveItem}\r\n                                            onPress={()=> this.selectItem(item.id)}\r\n                                        >\r\n                                        <StyledText style={item.isSelect ? styles.activeTXT : styles.inActiveTXT}>\r\n                                            {item.name}\r\n                                        </StyledText>\r\n                                        </TouchableOpacity>\r\n                                    </View>\r\n                                ))}  \r\n                            </View>\r\n                        </ScrollView>\r\n\r\n                        \r\n                        {showFilter === 0  ?  \r\n                            <View style={styles.ContactView}>\r\n                            <View style={styles.infoRowCont,{flexDirection:'row'}}>\r\n                                <View style={{flex:1}}>\r\n                                    <StyledText style={styles.infoName}>{managerDetails.name}</StyledText>\r\n                                </View>\r\n                                <StyledText style={styles.infoName}>اسم المالك</StyledText>\r\n                            </View>\r\n                            <View style={styles.infoRowCont}>\r\n                                <View style={styles.infoRow}>\r\n                                    <StyledText style={styles.info}>{managerDetails.phone}</StyledText>\r\n                                    <Entypo name=\"phone\" size={24} color=\"#924480\" />\r\n                                </View>\r\n                                <View style={styles.infoRow}>\r\n                                    <StyledText style={styles.info}>{managerDetails.email}</StyledText>\r\n                                    <FontAwesome name=\"envelope\" size={24} color=\"#924480\" />\r\n                                </View>\r\n                            </View>\r\n                        </View>\r\n\r\n                        :\r\n                            <View style={styles.ContactView}>\r\n                                <View style={styles.firstRow}>\r\n                                    <View style={styles.firstRowPrice}>\r\n                                        <StyledText style={styles.firstPrice}>{roomDetails[showTabs].price}</StyledText>\r\n                                    </View>\r\n                                    <View style={styles.firstRowName}>\r\n                                <StyledText style={styles.firstName}>{roomDetails[showTabs].name}</StyledText>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={styles.capView}>\r\n                                    <StyledText style={styles.capTXT}>تتسع لأفراد حتى {roomDetails[showTabs].numOfPeople} شخص </StyledText>\r\n                                </View>\r\n\r\n                                <View style={styles.serviceView}>\r\n                                    <View style={styles.serviceRow}>\r\n                                        <StyledText style={styles.serviceTitle}>الخدمات المجانية</StyledText>\r\n                                    </View>\r\n                                    <View style={styles.serviceRow}>\r\n                                        <StyledText style={styles.serviceInfo}>\r\n                                            {`قاعة مكيفة بالكامل - اضاءة أنوار مختلفة -عرض زفة دخول العروسين - شاشات عرض  - ورد للتزين`}\r\n                                        </StyledText>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={styles.serviceView}>\r\n                                    <View style={styles.serviceRow}>\r\n                                        <StyledText style={styles.serviceTitle}>\r\n                                        الخدمات ( مدفوعة تبدأ من 30 دولار )\r\n                                        </StyledText>\r\n                                    </View>\r\n                                    <View style={styles.serviceRow}>\r\n                                        <StyledText style={styles.serviceInfo}>\r\n                                            {`كوشه مضيئة - ليزر - فيديو - دي جي طوال الحفل - ماكينة دخان - عرض التورته - بوفيه للمشروبات - ورد أثناء الرقص`}\r\n                                        </StyledText>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={styles.rateCont}>\r\n                                    <View style={styles.rateView}>\r\n                                        <Rating\r\n                                            imageSize={35} type='star' readonly\r\n                                            startingValue={3}\r\n                                        />\r\n                                    </View>\r\n                                    <StyledText style={styles.rateTitle}>\r\n                                        تقييم المستخدمين\r\n                                    </StyledText>  \r\n                                </View>\r\n\r\n                            </View>\r\n                        }\r\n\r\n                    </View>\r\n\r\n                    <Modal\r\n                        animationType=\"slide\"\r\n                        transparent={true}\r\n                        visible={this.state.modalVisible}\r\n                    >\r\n                        <ScrollView\r\n                            style={{ width: '100%' }}\r\n                            showsVerticalScrollIndicator={false}\r\n                            contentContainerStyle={{flexGrow:1,justifyContent:'flex-start'}}\r\n                            snapToStart={true}\r\n                        >\r\n                        <View style={styles.centeredView}>\r\n                            <View style={styles.modalView}>\r\n                            \r\n                            <View style={styles.firstView}>\r\n                                <TouchableOpacity onPress={() => this.setState({modalVisible:false})}>\r\n                                    <AntDesign name='close' color='#fff' size={20}/>\r\n                                </TouchableOpacity>\r\n                                <View style={{flex:1}}></View>\r\n                            </View>\r\n\r\n                            <Calendar\r\n                                current={new Date()}\r\n                                minDate={new Date()}\r\n                                // onDayPress={(day) => {console.log('selected day', day.dateString)}}\r\n                                onDayPress={(day) => this.setState({selectedDate:day.dateString}) }\r\n                                // onDayLongPress={(day) => {console.log('selected day', day)}}\r\n                                monthFormat={'yyyy MM'}\r\n                                // onMonthChange={(month) => {console.log('month changed', month)}}\r\n                                hideArrows={false}\r\n                                hideExtraDays={false}\r\n                                disableMonthChange={true}\r\n                                // If firstDay=1 week starts from Monday. Note that dayNames and dayNamesShort should still start from Sunday.\r\n                                firstDay={1}\r\n                                hideDayNames={false}\r\n                                showWeekNumbers={true}\r\n                                disableArrowLeft={false}\r\n                                disableArrowRight={false}\r\n                                disableAllTouchEventsForDisabledDays={true}\r\n\r\n                                markedDates={this.state.markedDates}\r\n\r\n                                style={{\r\n                                    backgroundColor:'#924480',\r\n                                   \r\n                                    // height: 350,\r\n                                }}\r\n                                theme={{\r\n                                  //  backgroundColor: '#924480',\r\n                                  //  calendarBackground: '#924480',\r\n                                    textSectionTitleColor: '#fff',\r\n                                   // textSectionTitleDisabledColor: '#d9e1e8',\r\n                                   // selectedDayBackgroundColor: '#00adf5',\r\n                                    //selectedDayTextColor: 'red',\r\n                                    //todayTextColor: '#00adf5',\r\n                                   // dayTextColor: '#2d4150',\r\n                                   // textDisabledColor: '#d9e1e8',\r\n                                   // dotColor: '#00adf5',\r\n                                    selectedDotColor: '#ffffff',\r\n                                    arrowColor: '#f4f6ff',\r\n                                    //disabledArrowColor: '#d9e1e8',\r\n                                    monthTextColor: 'white',\r\n                                    //indicatorColor: 'blue',\r\n                                    // textDayFontFamily: 'monospace',\r\n                                    // textMonthFontFamily: 'monospace',\r\n                                    // textDayHeaderFontFamily: 'monospace',\r\n                                    // textDayFontWeight: '300',\r\n                                    // textMonthFontWeight: 'bold',\r\n                                    // textDayHeaderFontWeight: '300',\r\n                                    // textDayFontSize: 16,\r\n                                    // textMonthFontSize: 16,\r\n                                    // textDayHeaderFontSize: 16\r\n                                }}\r\n                            />\r\n\r\n                            <View style={styles.done}>\r\n                                <View style={styles.dateCont}>\r\n                                    <StyledText style={styles.doneTxt}>تاريخ الحجز</StyledText>\r\n                                    <View style={styles.dateCont2}>\r\n                                        <StyledText style={styles.doneTxt}>\r\n                                            {this.state.selectedDate}\r\n                                        </StyledText>\r\n                                    </View>\r\n                                </View>\r\n                            </View>\r\n\r\n                            <View style={styles.InputContainer2}>\r\n                \r\n                       \r\n                       <View style={styles.pickerStyle}>\r\n                            <Picker\r\n                            mode=\"dropdown\"\r\n                            selectedValue={this.state.category}\r\n                            style={styles.Input}\r\n                            onValueChange={(category, itemIndex) => this.setState({category})}\r\n                            >\r\n\r\n                            {\r\n                                this.state.roomDetails.map((item, index)=>{\r\n                           return <Picker.Item key={item.index} label={item.name} value={item.name} style={{textAlign: 'right'}} />\r\n                                \r\n                            })}\r\n                            </Picker>\r\n                            </View>\r\n                        </View>\r\n\r\n                        \r\n\r\n                            <View style={styles.done}>\r\n                                <TouchableOpacity style={styles.doneTouch} onPress={() => this.register()}>\r\n                                    <StyledText style={styles.doneTxt}>حجز الصالة</StyledText>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n\r\n                            </View>\r\n                        </View>\r\n                        </ScrollView>\r\n                    </Modal>\r\n\r\n                </View>\r\n            </ScrollView>\r\n            {user.manager && user.uid === ownerId ? \r\n            <View style={{display:\"flex\",flexDirection: \"row\"}}>\r\n            <TouchableOpacity style={styles.minView2} onPress={() => this.props.navigation.navigate('AddRoomScreen',{id:hallId,roomNum:this.state.roomNum})}>\r\n                <StyledText style={styles.minTXT2}>أضف قاعة جديدة</StyledText>\r\n            </TouchableOpacity>\r\n\r\n            \r\n            <TouchableOpacity style={styles.minView2} onPress={()=> this.setState({modalVisible:true})}>\r\n                <StyledText style={styles.minTXT2}>أضف التواريخ المحجوزة مسبقا</StyledText>\r\n            </TouchableOpacity>\r\n            </View>\r\n            :\r\n        \r\n\r\n            <TouchableOpacity style={styles.minView} onPress={()=> this.setState({modalVisible:true})}>\r\n                <StyledText style={styles.minTXT}>الحجوزات</StyledText>\r\n            </TouchableOpacity>\r\n\r\n}\r\n        </View>\r\n        )\r\n    }\r\n    }\r\n\r\n    selectItem = (id) => {\r\n        const {roomDetails,ordersTap} = this.state;\r\n        let listDataCopy = JSON.parse(JSON.stringify(ordersTap));\r\n        listDataCopy.forEach((elem) => {\r\n        elem.isSelect = false;\r\n        if (elem.id === id) {\r\n            elem.isSelect = true;\r\n        }\r\n        });\r\n\r\n        let filter = id ;\r\n        let filter2 = id - 1;\r\n        if(filter2 < 0) {\r\n            filter2 = 0;\r\n        }\r\n      \r\n        // const filter = listDataCopy[id].id;\r\n        this.setState({\r\n            ordersTap: listDataCopy,\r\n            showFilter: filter,\r\n            showTabs:filter2\r\n        });\r\n    }\r\n\r\n    dot(){\r\n        return(\r\n          <View style={{backgroundColor:'#DC96CC', width: 8, height:8,borderRadius: 8/2,\r\n            marginLeft: 3, marginRight: 3, marginTop: 3, marginBottom: 3,backgroundColor:'#fff'}} />\r\n        )\r\n    }\r\n    activeDot(){\r\n        return(\r\n          <View style={{backgroundColor:'#924480', width: 8, height:8,borderRadius: 8/2,\r\n            marginLeft: 3, marginRight: 3, marginTop: 3, marginBottom: 3}} />\r\n        )\r\n    }\r\n\r\n    register() {\r\n        \r\n        this.setState({modalVisible:false})\r\n        \r\n        const {roomDetails,category,isAnonymousUser} = this.state;\r\n        console.log('cat',category);\r\n        if (isAnonymousUser){\r\n            this.props.navigation.navigate('LoginScreen');\r\n        }else {\r\n        const roomPrice = roomDetails.filter(item => {\r\n            return item.name === category && item\r\n        })\r\n\r\n        console.log(roomPrice);\r\n\r\n        const fullOrderDate = new Date();\r\n        const year = fullOrderDate.getFullYear();\r\n        const month = fullOrderDate.getMonth() + 1;\r\n        const date = fullOrderDate.getDate();\r\n        const orderDate = year + '-' + month  + '-' + date;\r\n        firebase.firestore().collection('registration').add({\r\n            orderStatus :false,\r\n            orderDate : orderDate,\r\n            registerDate : this.state.selectedDate,\r\n            roomName: this.state.category,\r\n            managerId: this.state.ownerId,\r\n            hallId: this.state.hallId,\r\n            hallName: this.state.hallDetail.name,\r\n            uid: this.state.user.uid,\r\n            userName: this.state.user.displayName,\r\n            userPhone: this.state.user.phone,\r\n            roomPrice: roomPrice[0].price\r\n        }).then(()=> {\r\n            const dateObj = {\r\n                [this.state.registerDate]:{selected: true, marked: true, disableTouchEvent: true, selectedColor: '#d92027'}\r\n            }\r\n            this.setState(prevState => ({\r\n                markedDates: {...prevState.markedDates,...dateObj}\r\n              }))\r\n            //alert('لتأكيد الحجز يرجى التوجه للصالة لدفع العربون في خلال 3 أيام')\r\n        })\r\n\r\n        const hallInfo = {\r\n            earnest:this.state.earnest,\r\n            isManager:this.state.user.manager\r\n        }\r\n       \r\n         this.props.navigation.navigate('BookingDoneScreen',{info:hallInfo});\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default withFirebaseHOC(HallDetailScreen);"]},"metadata":{},"sourceType":"module"}