{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\jit\\\\Desktop\\\\farhasheri\\\\screens\\\\FavoriteScreen\\\\FavoriteScreen.js\";\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport styles from \"./FavoriteScreenStyle\";\nimport HeaderMenu from \"../../components/HeadersComponent/HeaderMenu\";\nimport FavoriteList from \"../../components/FavoriteList\";\nimport * as firebase from 'firebase';\n\nvar FavoriteScreen = function (_Component) {\n  _inherits(FavoriteScreen, _Component);\n\n  function FavoriteScreen(props) {\n    var _this;\n\n    _classCallCheck(this, FavoriteScreen);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FavoriteScreen).call(this, props));\n    _this.state = {\n      fav: [{\n        id: 0,\n        image: require(\"../../assets/images/hall.png\"),\n        name: 'صالة لارزوا',\n        price: '100 $',\n        location: 'دير البلح',\n        discount: null,\n        isFav: true\n      }, {\n        id: 1,\n        image: require(\"../../assets/images/hall.png\"),\n        name: 'صالة لارزوا',\n        price: '100 $',\n        location: 'دير البلح',\n        discount: '60%',\n        isFav: true\n      }],\n      hallIds: []\n    };\n    return _this;\n  }\n\n  _createClass(FavoriteScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var currentUser = firebase.auth().currentUser;\n      var favRef = firebase.firestore().collection('favouriteHalls');\n      var query = favRef.where('uid', '==', currentUser.uid).get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          var snapShot = doc.data();\n          console.log(snapShot);\n          var ids = [];\n          ids.push(snapShot.hallId);\n\n          _this2.setState(function (prevState) {\n            return {\n              hallIds: [].concat(_toConsumableArray(prevState.hallIds), ids)\n            };\n          });\n        });\n      }).catch(function (error) {\n        console.log(\"Error getting documents1: \", error);\n      });\n      setTimeout(function () {\n        _this2.state.hallIds.forEach(function (id) {\n          var hallRef = firebase.firestore().collection('halls').doc(id).get().then(function (queryResult) {\n            var hallData = queryResult.data();\n            var hallListData = [];\n            hallListData.push({\n              id: queryResult.id,\n              image: hallData.hallImage,\n              name: hallData.name,\n              location: hallData.address,\n              discount: null,\n              isFav: true,\n              uri: true\n            });\n\n            _this2.setState(function (prevState) {\n              return {\n                fav: [].concat(_toConsumableArray(prevState.fav), hallListData)\n              };\n            });\n          }).catch(function (e) {\n            return console.log(e);\n          });\n        });\n      }, 5000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: styles.containerStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        }\n      }, React.createElement(View, {\n        style: styles.StatusBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        }\n      }, React.createElement(StatusBar, {\n        barStyle: \"light-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        }\n      })), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        }\n      }, React.createElement(HeaderMenu, {\n        navigation: this.props.navigation,\n        title: \"\\u0627\\u0644\\u0645\\u0641\\u0636\\u0644\\u0629\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        }\n      })), React.createElement(ScrollView, {\n        style: {\n          width: '100%'\n        },\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: {\n          flexGrow: 1,\n          justifyContent: 'flex-start',\n          backgroundColor: '#fff'\n        },\n        snapToStart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        }\n      }, React.createElement(View, {\n        style: {\n          width: '100%',\n          height: '100%',\n          paddingBottom: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        }\n      }, this.state.fav.length > 0 ? React.createElement(React.Fragment, null, React.createElement(View, {\n        style: styles.storiesImagesCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        }\n      }, React.createElement(FavoriteList, {\n        navigation: this.props.navigation,\n        details: this.state.fav,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        }\n      }))) : React.createElement(View, {\n        style: {\n          width: '100%',\n          height: '100%',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../assets/images/NoFav.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        }\n      })))));\n    }\n  }]);\n\n  return FavoriteScreen;\n}(Component);\n\nexport { FavoriteScreen as default };","map":{"version":3,"sources":["C:/Users/jit/Desktop/farhasheri/screens/FavoriteScreen/FavoriteScreen.js"],"names":["React","Component","styles","HeaderMenu","FavoriteList","firebase","FavoriteScreen","props","state","fav","id","image","require","name","price","location","discount","isFav","hallIds","currentUser","auth","favRef","firestore","collection","query","where","uid","get","then","querySnapshot","forEach","doc","snapShot","data","console","log","ids","push","hallId","setState","prevState","catch","error","setTimeout","hallRef","queryResult","hallData","hallListData","hallImage","address","uri","e","containerStyle","StatusBar","navigation","width","flexGrow","justifyContent","backgroundColor","height","paddingBottom","length","storiesImagesCont","alignItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { View, ScrollView, StatusBar, Image } from \"react-native\";\r\nimport styles from \"./FavoriteScreenStyle\";\r\nimport HeaderMenu from '../../components/HeadersComponent/HeaderMenu'\r\nimport FavoriteList from '../../components/FavoriteList'\r\nimport * as firebase from 'firebase'\r\nexport default class FavoriteScreen extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            fav:[\r\n                {id:0,image:require('../../assets/images/hall.png'),name:'صالة لارزوا',price:'100 $',\r\n                    location:'دير البلح',discount:null,isFav:true\r\n                },\r\n                {id:1,image:require('../../assets/images/hall.png'),name:'صالة لارزوا',price:'100 $',\r\n                    location:'دير البلح',discount:'60%',isFav:true\r\n                }, \r\n             \r\n            ],\r\n\r\n            hallIds: []\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        const currentUser = firebase.auth().currentUser;\r\n        const favRef = firebase.firestore().collection('favouriteHalls');\r\n        const query = favRef.where('uid' , '==' , currentUser.uid)\r\n        .get()\r\n        .then((querySnapshot) => {\r\n            querySnapshot.forEach((doc)  => {\r\n                const snapShot = doc.data();\r\n                console.log(snapShot)\r\n                const ids = [];\r\n                ids.push(snapShot.hallId)\r\n                this.setState(prevState => ({\r\n                    hallIds: [...prevState.hallIds, ...ids]\r\n                }))\r\n                \r\n                });\r\n        })\r\n\r\n        .catch(function(error) {\r\n            console.log(\"Error getting documents1: \", error);\r\n        });\r\n\r\n        setTimeout(()=> {\r\n            this.state.hallIds.forEach((id) => {\r\n            const hallRef = firebase.firestore().collection('halls').doc(id)\r\n            .get()\r\n            .then((queryResult)  => { \r\n                  const hallData = queryResult.data();\r\n                 let hallListData = [];\r\n                  hallListData.push(\r\n                    {id:queryResult.id,\r\n\r\n                      image: hallData.hallImage,\r\n                      name: hallData.name,\r\n                     \r\n                      location:hallData.address,\r\n                      discount:null,\r\n                      isFav:true,\r\n                      uri:true\r\n                      \r\n                      }\r\n                  )\r\n                  this.setState(prevState => ({\r\n                    fav: [...prevState.fav, ...hallListData]\r\n                  }))\r\n                    \r\n              \r\n            }).catch(e=>console.log(e))\r\n            \r\n         })\r\n         },5000)\r\n    \r\n    }\r\n    \r\n    render() {\r\n        return (\r\n        <View style={styles.containerStyle}>          \r\n            <View style={styles.StatusBar}>\r\n            <StatusBar barStyle=\"light-content\"/>\r\n            </View>\r\n            <View>\r\n                <HeaderMenu navigation={this.props.navigation} title='المفضلة'></HeaderMenu>\r\n            </View>\r\n            <ScrollView\r\n                style={{ width: '100%' }}\r\n                showsVerticalScrollIndicator={false}\r\n                contentContainerStyle={{flexGrow:1,justifyContent:'flex-start',backgroundColor:'#fff'}}\r\n                snapToStart={true}\r\n            >     \r\n                <View style={{width: '100%',height:'100%',paddingBottom: 50}}>\r\n                {this.state.fav.length > 0 ?\r\n                <>\r\n                    <View style={styles.storiesImagesCont}>\r\n                        <FavoriteList \r\n                            navigation={this.props.navigation}\r\n                            details={this.state.fav}\r\n                        />\r\n                    </View>\r\n                </>\r\n                :\r\n                <View style={{width: '100%',height:'100%',justifyContent:'center',alignItems:'center'}}>\r\n                    <Image source={require('../../assets/images/NoFav.png')}/>\r\n                </View>\r\n                }\r\n                </View>\r\n            </ScrollView>\r\n        </View>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}