{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\jit\\\\Desktop\\\\finalProject\\\\farhasheri\\\\screens\\\\LoginScreen\\\\LoginScreen.js\";\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\nimport StyledText from \"../../components/StyledTexts/StyledText\";\nimport StyledTextBold from \"../../components/StyledTexts/StyledTextBold\";\nimport StyledTextLight from \"../../components/StyledTexts/StyledTextLight\";\nimport styles from \"./LoginScreenStyle\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport NetInfo from \"@react-native-community/netinfo\";\nimport * as firebase from \"firebase\";\nimport { withFirebaseHOC } from \"../../config/Firebase\";\n\nvar LoginScreen = function (_Component) {\n  _inherits(LoginScreen, _Component);\n\n  function LoginScreen(props) {\n    var _this;\n\n    _classCallCheck(this, LoginScreen);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginScreen).call(this, props));\n\n    _this._handleConnectivityChange = function (isConnected) {\n      _this.setState({\n        isConnected: isConnected\n      });\n    };\n\n    _this.handleLogin = function () {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n\n      _this.props.firebase.auth.loginWithEmail(email, password).then(function () {\n        return _this.props.navigation.navigate('HomeScreen');\n      }).catch(function (error) {\n        return _this.setState({\n          errorMessage: \"خطأ في اسم المستخدم أو كلمة المرور\"\n        });\n      });\n    };\n\n    _this.validation = function () {\n      var _this$state2 = _this.state,\n          email = _this$state2.email,\n          password = _this$state2.password;\n      var isValid = true;\n\n      if (!email) {\n        isValid = false;\n        alert(\"This filed is required\");\n        return;\n      }\n\n      if (!password) {\n        isValid = false;\n        alert(\"Password is required\");\n        return;\n      }\n\n      return isValid;\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      spinner: false,\n      isConnected: null,\n      securePassword: true,\n      errorMessage: ''\n    };\n    return _this;\n  }\n\n  _createClass(LoginScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      NetInfo.fetch().then(function (state) {\n        var isConnected = state.isConnected;\n\n        if (isConnected) {\n          _this2.setState({\n            isConnected: true\n          });\n        } else {\n          _this2.setState({\n            isConnected: false\n          });\n        }\n      });\n      NetInfo.isConnected.addEventListener('connectionChange', this._handleConnectivityChange);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      NetInfo.isConnected.removeEventListener(\"connectionChange\", this._handleConnectivityChange);\n    }\n  }, {\n    key: \"securePasswordMethod\",\n    value: function securePasswordMethod() {\n      this.setState({\n        securePassword: !this.state.securePassword\n      });\n    }\n  }, {\n    key: \"signInWithGoogle\",\n    value: function signInWithGoogle() {\n      var provide = this.props.firebase.provider;\n      this.props.firebase.auth.signInWithRedirect(provide).then(function () {\n        console.log('done');\n      }).catch(function () {\n        alert('error');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var errorMessage = this.state.errorMessage;\n      return React.createElement(React.Fragment, null, React.createElement(View, {\n        style: styles.containerLinear,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        }\n      }, React.createElement(Spinner, {\n        visible: this.state.spinner,\n        color: \"white\",\n        textContent: \"جاري تسجيل الدخول..\",\n        textStyle: {\n          fontSize: 20,\n          fontFamily: \"tahoma\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        }\n      }), React.createElement(View, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        }\n      }, React.createElement(ScrollView, {\n        style: {\n          width: '100%'\n        },\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: {\n          flexGrow: 1,\n          justifyContent: 'flex-start',\n          backgroundColor: '#fff',\n          paddingTop: 70\n        },\n        snapToStart: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        }\n      }, React.createElement(View, {\n        style: styles.KeyBoard,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        }\n      }, React.createElement(KeyboardAwareScrollView, {\n        keyboardDismissMode: \"on-drag\",\n        enableOnAndroid: true,\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        }\n      }, React.createElement(View, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          width: 60,\n          height: 30,\n          borderRadius: 10,\n          backgroundColor: '#F7F6F7',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate('HomeScreen');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        }\n      }, React.createElement(StyledText, {\n        style: {\n          color: '#924480'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        }\n      }, \"\\u062A\\u062E\\u0637\\u064A\"))), React.createElement(View, {\n        style: styles.logoImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../assets/images/loginLogo.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        }\n      }), React.createElement(StyledTextBold, {\n        style: styles.title1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        }\n      }, \"\\u0645\\u0631\\u062D\\u0628\\u0627 \\u0628\\u0643\"), React.createElement(StyledText, {\n        style: styles.title2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        }\n      }, \"\\u0633\\u062C\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644 \\u0644\\u0644\\u0645\\u062A\\u0627\\u0628\\u0639\\u0629\")), React.createElement(View, {\n        style: {\n          flex: 2,\n          paddingTop: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        }\n      }, React.createElement(View, {\n        style: styles.InputContainer2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        }\n      }, React.createElement(StyledTextBold, {\n        style: styles.InputContainer2Tilte,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        }\n      }, \"\\u0627\\u0644\\u0627\\u064A\\u0645\\u064A\\u0644\"), React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0627\\u0644\\u0627\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A \",\n        placeholderTextColor: \"#A2A2A2\",\n        underlineColorAndroid: \"transparent\",\n        value: this.state.email,\n        returnKeyType: \"next\",\n        onChangeText: function onChangeText(email) {\n          return _this3.setState({\n            email: email\n          });\n        },\n        blurOnSubmit: false,\n        keyboardType: \"email-address\",\n        onSubmitEditing: function onSubmitEditing() {\n          _this3.secondTextInput.focus();\n        },\n        style: styles.Input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        }\n      }))), React.createElement(View, {\n        style: styles.InputContainer2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        }\n      }, React.createElement(StyledTextBold, {\n        style: styles.InputContainer2Tilte,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        }\n      }, \"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"), React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.securePasswordMethod();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        }\n      }, !this.state.securePassword && React.createElement(Ionicons, {\n        name: \"md-eye\",\n        size: 25,\n        color: \"#8D8D8D\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        }\n      }), this.state.securePassword && React.createElement(Ionicons, {\n        name: \"md-eye-off\",\n        size: 25,\n        color: \"#8D8D8D\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        }\n      })), React.createElement(TextInput, {\n        placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0633\\u0631 \",\n        placeholderTextColor: \"#A2A2A2\",\n        underlineColorAndroid: \"transparent\",\n        value: this.state.password,\n        returnKeyType: \"done\",\n        onChangeText: function onChangeText(password) {\n          return _this3.setState({\n            password: password\n          });\n        },\n        blurOnSubmit: true,\n        secureTextEntry: this.state.securePassword,\n        ref: function ref(input) {\n          _this3.secondTextInput = input;\n        },\n        style: styles.Input,\n        onSubmitEditing: function onSubmitEditing() {\n          return _this3.login();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        }\n      }))), React.createElement(StyledText, {\n        style: {\n          color: '#F00'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        }\n      }, errorMessage), React.createElement(View, {\n        style: styles.forget,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate('ForgetPasswordScreen');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        }\n      }, React.createElement(StyledTextLight, {\n        style: styles.forgetTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        }\n      }, \"\\u0647\\u0644 \\u0646\\u0633\\u064A\\u062A \\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631 \\u061F\"))), React.createElement(View, {\n        style: {\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        }\n      }, React.createElement(TouchableOpacity, {\n        activeOpacity: 0.5,\n        style: styles.LoginTouch,\n        onPress: function onPress() {\n          return _this3.login();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        }\n      }, React.createElement(StyledText, {\n        style: {\n          color: '#fff',\n          fontSize: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        }\n      }, \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\"))), React.createElement(View, {\n        style: styles.registerCon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        }\n      }, React.createElement(TouchableOpacity, {\n        activeOpacity: 0.5,\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate('RegisterScreen');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        }\n      }, React.createElement(StyledText, {\n        style: styles.txt1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        }\n      }, \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u062D\\u0633\\u0627\\u0628 \\u062C\\u062F\\u064A\\u062F\")), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        }\n      }, React.createElement(StyledText, {\n        style: styles.txt2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        }\n      }, \"\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645 \\u062C\\u062F\\u064A\\u062F \\u061F\"))), React.createElement(View, {\n        style: styles.OrCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        }\n      }, React.createElement(StyledTextLight, {\n        style: styles.ortxt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        }\n      }, \"\\u0623\\u0648 \\u0642\\u0645 \\u0628\\u0627\\u0644\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0639\\u0628\\u0631\")), React.createElement(View, {\n        style: styles.SocialIconCon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.SocialIconFace,\n        onPress: function onPress() {\n          return _this3.signInWithGoogle();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../assets/images/google.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.SocialIconFace,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../assets/images/facebook.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        }\n      }))))))))))));\n    }\n  }, {\n    key: \"login\",\n    value: function login() {\n      if (this.validation()) {\n        this.handleLogin();\n      } else {}\n    }\n  }]);\n\n  return LoginScreen;\n}(Component);\n\nexport default withFirebaseHOC('LoginScreen');","map":{"version":3,"sources":["C:/Users/jit/Desktop/finalProject/farhasheri/screens/LoginScreen/LoginScreen.js"],"names":["React","Component","KeyboardAwareScrollView","StyledText","StyledTextBold","StyledTextLight","styles","Ionicons","Spinner","NetInfo","firebase","withFirebaseHOC","LoginScreen","props","_handleConnectivityChange","isConnected","setState","handleLogin","state","email","password","auth","loginWithEmail","then","navigation","navigate","catch","error","errorMessage","validation","isValid","alert","spinner","securePassword","fetch","addEventListener","removeEventListener","provide","provider","signInWithRedirect","console","log","containerLinear","fontSize","fontFamily","color","width","flexGrow","justifyContent","backgroundColor","paddingTop","flex","KeyBoard","height","borderRadius","alignItems","logoImage","require","title1","title2","InputContainer2","InputContainer2Tilte","flexDirection","secondTextInput","focus","Input","securePasswordMethod","input","login","forget","forgetTitle","LoginTouch","registerCon","txt1","txt2","OrCont","ortxt","SocialIconCon","SocialIconFace","signInWithGoogle"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { View, TouchableOpacity, ScrollView, TextInput, AsyncStorage, Alert,Image } from \"react-native\";\r\nimport { KeyboardAwareScrollView } from \"react-native-keyboard-aware-scroll-view\";\r\nimport StyledText from \"../../components/StyledTexts/StyledText\";\r\nimport StyledTextBold from \"../../components/StyledTexts/StyledTextBold\";\r\nimport StyledTextLight from \"../../components/StyledTexts/StyledTextLight\";\r\nimport styles from \"./LoginScreenStyle\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport Spinner from \"react-native-loading-spinner-overlay\";\r\nimport NetInfo from \"@react-native-community/netinfo\";\r\nimport * as firebase from \"firebase\"; \r\nimport { withFirebaseHOC } from \"../../config/Firebase\";\r\n\r\nclass LoginScreen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      spinner: false,\r\n      isConnected: null,\r\n      securePassword:true,\r\n      errorMessage:''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    NetInfo.fetch().then(state => {\r\n      let isConnected = state.isConnected;\r\n      if(isConnected){\r\n        this.setState({ isConnected:true });\r\n      }\r\n      else{\r\n        this.setState({ isConnected: false });\r\n      }\r\n    })\r\n    NetInfo.isConnected.addEventListener('connectionChange', this._handleConnectivityChange);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    NetInfo.isConnected.removeEventListener(\r\n      \"connectionChange\",\r\n      this._handleConnectivityChange\r\n    );\r\n  }\r\n\r\n  _handleConnectivityChange = (isConnected) => {\r\n    this.setState({ isConnected });\r\n  };\r\n\r\n  securePasswordMethod(){\r\n    this.setState({\r\n      securePassword: !this.state.securePassword\r\n    })\r\n  }\r\n\r\n  signInWithGoogle() {\r\n      const provide = this.props.firebase.provider;\r\n      this.props.firebase.auth.signInWithRedirect(provide)\r\n        .then(()=>{\r\n          console.log('done')\r\n        })\r\n        .catch(()=>{\r\n          alert('error')\r\n        })\r\n  } \r\n\r\n  render() {\r\n    const {errorMessage} = this.state;\r\n    return (\r\n      <>\r\n        <View style={styles.containerLinear}>\r\n          <Spinner\r\n            visible={this.state.spinner} color=\"white\" textContent={\"جاري تسجيل الدخول..\"}\r\n            textStyle={{ fontSize: 20, fontFamily: \"tahoma\", color: \"white\" }}\r\n          />\r\n          <View style={{ width: '100%' }}>\r\n            <ScrollView\r\n              style={{ width: '100%' }}\r\n              showsVerticalScrollIndicator={false}\r\n              contentContainerStyle={{\r\n                flexGrow: 1,justifyContent: 'flex-start',backgroundColor:'#fff',paddingTop:70\r\n              }}\r\n              snapToStart={true}\r\n            >\r\n              <View style={{ flex: 1 }}>\r\n                <View style={styles.KeyBoard}>\r\n                  <KeyboardAwareScrollView\r\n                    keyboardDismissMode=\"on-drag\" //work only on ios\r\n                    enableOnAndroid={true}\r\n                    style={{ width: \"100%\" }}\r\n                  >\r\n                    <View style={{width:'100%'}}>\r\n                      <TouchableOpacity style={{width:60,height:30,borderRadius:10,backgroundColor:'#F7F6F7',justifyContent:'center',alignItems:'center'}}\r\n                        onPress={()=>this.props.navigation.navigate('HomeScreen')}\r\n                      >\r\n                        <StyledText style={{color:'#924480'}}>تخطي</StyledText>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.logoImage}>\r\n                      <Image source={require('../../assets/images/loginLogo.png')} />\r\n                      <StyledTextBold style={styles.title1}>مرحبا بك</StyledTextBold>\r\n                      <StyledText style={styles.title2}>سجل الدخول للمتابعة</StyledText>\r\n                    </View>\r\n\r\n           \r\n                    <View style={{ flex: 2, paddingTop: 40 }}>\r\n                      <View style={styles.InputContainer2}>\r\n                        <StyledTextBold style={styles.InputContainer2Tilte}>الايميل</StyledTextBold>\r\n                        <View style={{ flexDirection: 'row' }}>\r\n                          <TextInput\r\n                            placeholder=\"أدخل البريد الالكتروني \"\r\n                            placeholderTextColor=\"#A2A2A2\"\r\n                            underlineColorAndroid=\"transparent\"\r\n                            value={this.state.email}\r\n                            returnKeyType={\"next\"}\r\n                            onChangeText={(email) => this.setState({ email })}\r\n                            blurOnSubmit={false}\r\n                            keyboardType=\"email-address\"\r\n                            onSubmitEditing={() => {\r\n                              this.secondTextInput.focus();\r\n                            }}\r\n                            style={styles.Input}\r\n                          />\r\n                        </View>\r\n                      </View>\r\n                      \r\n                      <View style={styles.InputContainer2}>\r\n                        <StyledTextBold style={styles.InputContainer2Tilte}>كلمة المرور</StyledTextBold>\r\n                        <View style={{ flexDirection: 'row' }}>\r\n                          <TouchableOpacity onPress={()=>this.securePasswordMethod()}>\r\n                            {!this.state.securePassword && <Ionicons name='md-eye' size={25} color='#8D8D8D' />}\r\n                            {this.state.securePassword && <Ionicons name='md-eye-off' size={25} color='#8D8D8D' />}\r\n                          </TouchableOpacity>\r\n                          <TextInput\r\n                            placeholder=\"أدخل كلمة السر \"\r\n                            placeholderTextColor=\"#A2A2A2\"\r\n                            underlineColorAndroid=\"transparent\"\r\n                            value={this.state.password}\r\n                            returnKeyType={\"done\"}\r\n                            onChangeText={(password) => this.setState({ password })}\r\n                            blurOnSubmit={true}\r\n                            secureTextEntry={this.state.securePassword}\r\n                            ref={(input) => {\r\n                              this.secondTextInput = input;\r\n                            }}\r\n                            style={styles.Input}\r\n                            onSubmitEditing={() => this.login()}\r\n                          />\r\n                        </View>\r\n                      </View>\r\n                      <StyledText style={{color:'#F00'}}>{errorMessage}</StyledText>\r\n                      <View style={styles.forget}>\r\n                        <TouchableOpacity \r\n                          onPress={() => this.props.navigation.navigate('ForgetPasswordScreen')}\r\n                        >\r\n                          <StyledTextLight style={styles.forgetTitle}>\r\n                            هل نسيت كلمة المرور ؟\r\n                          </StyledTextLight>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n\r\n                      <View style={{justifyContent:'center',alignItems:'center'}}>\r\n                        <TouchableOpacity activeOpacity={0.5} style={styles.LoginTouch}\r\n                          onPress={() => this.login()}\r\n                        >\r\n                          <StyledText style={{color:'#fff',fontSize:15}}>تسجيل الدخول</StyledText>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n\r\n                      <View style={styles.registerCon}>\r\n                        <TouchableOpacity activeOpacity={0.5}\r\n                          onPress={() => this.props.navigation.navigate('RegisterScreen')}\r\n                        >\r\n                          <StyledText style={styles.txt1}>تسجيل حساب جديد</StyledText>\r\n                        </TouchableOpacity>\r\n                        <View>\r\n                          <StyledText style={styles.txt2}>مستخدم جديد ؟</StyledText>\r\n                        </View>\r\n                      </View>\r\n\r\n                      <View style={styles.OrCont}>\r\n                        <View>\r\n                          <StyledTextLight style={styles.ortxt}>\r\n                            أو قم بالتسجيل عبر\r\n                          </StyledTextLight>\r\n                        </View>\r\n                        <View style={styles.SocialIconCon}>\r\n                          <TouchableOpacity style={styles.SocialIconFace} onPress={() => this.signInWithGoogle()}>\r\n                            <Image source={require('../../assets/images/google.png')} />\r\n                          </TouchableOpacity>\r\n\r\n                          <TouchableOpacity style={styles.SocialIconFace}>\r\n                            <Image source={require('../../assets/images/facebook.png')} />\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      </View>\r\n                      \r\n                    </View>\r\n                  </KeyboardAwareScrollView>\r\n                </View>\r\n              </View>\r\n            </ScrollView>\r\n          </View>\r\n        </View>\r\n      </>\r\n    );\r\n  }\r\n\r\n  login(){\r\n      if(this.validation()){\r\n        this.handleLogin();\r\n      }else {\r\n        // alert('error');\r\n\r\n      }\r\n  }\r\n\r\n  handleLogin = () => {\r\n    const {email,password} = this.state;\r\n    this.props.firebase.auth.loginWithEmail(email,password)\r\n        .then (()=>this.props.navigation.navigate('HomeScreen'))\r\n        .catch(error => this.setState({ errorMessage: \"خطأ في اسم المستخدم أو كلمة المرور\" }))\r\n  }\r\n\r\n  validation = () => {\r\n    const {email,password} = this.state;\r\n    let isValid = true;\r\n    if(!email) {\r\n      isValid = false;\r\n      alert(\"This filed is required\");\r\n      return;\r\n    }\r\n\r\n    if (!password){\r\n      isValid = false;\r\n      alert(\"Password is required\");\r\n      return;\r\n    }\r\n\r\n    return isValid;\r\n\r\n  }\r\n}\r\n\r\n\r\nexport default withFirebaseHOC('LoginScreen');"]},"metadata":{},"sourceType":"module"}